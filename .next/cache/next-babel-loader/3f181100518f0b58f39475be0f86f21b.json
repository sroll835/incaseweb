{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Sebastian\\\\Desktop\\\\incaseweb\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Head from \"next/head\";\nimport Header from \"../components/Header\";\nimport { Component } from \"react\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\"; //import \"../components/Login.scss\";\n\nimport Layout from \"../components/layout\";\nimport { Cookies } from \"react-cookie\";\nimport Router from \"next/router\";\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport { green, purple } from \"@material-ui/core/colors\";\nimport Modal from \"react-modal\";\nimport { createUsuario } from \"../API/helpersAPI\";\nvar customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\nvar appTitle = \"WHATABYTE\";\nvar cookies = new Cookies();\nvar subtitle = \"dddd\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  _createClass(Login, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var store = _ref.store,\n          req = _ref.req;\n      console.log(\"la store:\" + store);\n      var apiUrl = \"http://localhost:8080/auth/login\";\n      return {\n        apiUrl: apiUrl\n      };\n    }\n  }]);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    var _require = require(\"micro\"),\n        send = _require.send;\n\n    _this.state = {\n      correo: \"\",\n      clave: \"\",\n      error: \"\",\n      token: cookies.get(\"token\") || null,\n      modalIsOpen: false,\n      nom_reg: \"\",\n      apell_reg: \"\",\n      correo_reg: \"\",\n      clave_reg: \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleChangePassword = _this.handleChangePassword.bind(_assertThisInitialized(_this));\n    _this.handleChangeNomReg = _this.handleChangeNomReg.bind(_assertThisInitialized(_this));\n    _this.handleChangeApellReg = _this.handleChangeApellReg.bind(_assertThisInitialized(_this));\n    _this.handleChangeCorreoReg = _this.handleChangeCorreoReg.bind(_assertThisInitialized(_this));\n    _this.handleChangePasswordReg = _this.handleChangePasswordReg.bind(_assertThisInitialized(_this));\n    _this.createUser = _this.createUser.bind(_assertThisInitialized(_this));\n    _this.openModal = _this.openModal.bind(_assertThisInitialized(_this));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_this));\n    Modal.setAppElement(\"body\");\n    return _this;\n  } // MODAL FUNCTIONS\n\n\n  _createClass(Login, [{\n    key: \"openModal\",\n    value: function openModal() {\n      this.setState({\n        modalIsOpen: true\n      });\n    }\n  }, {\n    key: \"afterOpenModal\",\n    value: function afterOpenModal() {// references are now sync'd and can be accessed.\n      // subtitle.style.color = '#f00';\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        modalIsOpen: false\n      });\n    } // HANDLE EVENT TO CHANGE THE STATE VALUE\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        correo: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangePassword\",\n    value: function handleChangePassword(event) {\n      this.setState({\n        clave: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeNomReg\",\n    value: function handleChangeNomReg(event) {\n      this.setState({\n        nom_reg: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeApellReg\",\n    value: function handleChangeApellReg(event) {\n      this.setState({\n        apell_reg: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeCorreoReg\",\n    value: function handleChangeCorreoReg(event) {\n      this.setState({\n        correo_reg: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangePasswordReg\",\n    value: function handleChangePasswordReg(event) {\n      this.setState({\n        clave_reg: event.target.value\n      });\n    } //  WEB SERVICES FUNCTIONS\n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _correo, _clave, url, body, response, data, token, action, error;\n\n      return _regeneratorRuntime.async(function handleSubmit$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.prev = 1;\n              _correo = this.state.correo;\n              _clave = this.state.clave;\n              url = this.props.apiUrl;\n              body = {\n                correo: _correo,\n                clave: _clave\n              };\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(body)\n              }));\n\n            case 8:\n              response = _context.sent;\n              _context.next = 11;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 11:\n              data = _context.sent;\n\n              if (data.status === 200) {\n                token = data.access_token;\n                cookies.set(\"token\", token);\n                action = {\n                  type: \"ADD_USER_ID\",\n                  payload: data.user_id\n                };\n                this.props.dispatch(action);\n                Router.push(\"/\");\n              } else {\n                error = new Error(data.message);\n                error.data = data;\n                this.setState({\n                  error: data.message\n                });\n              }\n\n              _context.next = 19;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(\"You have an error in your code or there are Network issues.\", _context.t0);\n              throw new Error(_context.t0);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[1, 15]], Promise);\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser() {\n      var _toinsert;\n\n      return _regeneratorRuntime.async(function createUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _toinsert = {\n                nombre: this.state.nom_reg,\n                apellido: this.state.apell_reg,\n                correo: this.state.correo_reg,\n                clave: this.state.clave_reg\n              };\n              createUsuario(_toinsert).then(function (response) {\n                console.log(response);\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"LayoutLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }\n      }, __jsx(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }, __jsx(\"title\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      }, \"WHATABYTE\"), __jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }), __jsx(\"meta\", {\n        charSet: \"utf-8\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      })), __jsx(Header, {\n        appTitle: appTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"Content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }\n      }, __jsx(\"h3\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }\n      }, \"Bienvenido a \", appTitle, \" , Porfavor digite su usuario y contrasena :\", \" \")), __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }\n      }, __jsx(\"form\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"correo\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }\n      }, \"Usuario\"), __jsx(\"input\", {\n        type: \"email\",\n        id: \"correo\",\n        name: \"correo\",\n        value: this.state.correo,\n        onChange: this.handleChange,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }\n      }), __jsx(\"label\", {\n        htmlFor: \"clave\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }, \"Contrase\\xF1a\"), __jsx(\"input\", {\n        type: \"password\",\n        id: \"clave\",\n        name: \"clave\",\n        value: this.state.clave,\n        onChange: this.handleChangePassword,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      }), __jsx(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      }, \"Iniciar Sesion\"), __jsx(\"label\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }\n      }, \"o\"), __jsx(\"a\", {\n        onClick: this.openModal,\n        className: \"jsx-2916113124\" + \" \" + \"registertext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }\n      }, \"Registrate\"), __jsx(\"p\", {\n        className: \"jsx-2916113124\" + \" \" + \"error \".concat(this.state.error && \"show\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }\n      }, this.state.error && \"Error: \".concat(this.state.error)))), __jsx(\"div\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }\n      }, __jsx(Modal, {\n        isOpen: this.state.modalIsOpen,\n        onAfterOpen: this.afterOpenModal,\n        onRequestClose: this.closeModal,\n        style: customStyles,\n        contentLabel: \"Example Modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"headermodal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }\n      }, \"\\xA1 Reg\\xEDstrate y comienza a aprender \\xA0!\", __jsx(\"button\", {\n        \"aria-label\": \"Cerrar\",\n        type: \"button\",\n        onClick: this.closeModal,\n        className: \"jsx-2916113124\" + \" \" + \"modalclose\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }, __jsx(\"span\", {\n        \"aria-hidden\": \"true\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 19\n        }\n      }, \"\\xD7\"))), __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"contentmodal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }\n      }, __jsx(\"form\", {\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"nombre\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 19\n        }\n      }, \"Nombre\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"nombre_reg\",\n        name: \"nombre_reg\",\n        value: this.state.nom_reg,\n        onChange: this.handleChangeNomReg,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 19\n        }\n      }), __jsx(\"label\", {\n        htmlFor: \"apellido\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 19\n        }\n      }, \"Apellido\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"apellido_reg\",\n        name: \"apellido_reg\",\n        value: this.state.apell_reg,\n        onChange: this.handleChangeApellReg,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 19\n        }\n      }), __jsx(\"label\", {\n        htmlFor: \"correo\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 19\n        }\n      }, \"Correo\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"correo_reg\",\n        name: \"correo_reg\",\n        value: this.state.correo_reg,\n        onChange: this.handleChangeCorreoReg,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 19\n        }\n      }), __jsx(\"label\", {\n        htmlFor: \"clave\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 19\n        }\n      }, \"Contrase\\xF1a\"), __jsx(\"input\", {\n        type: \"text\",\n        id: \"clave_reg\",\n        name: \"clave_reg\",\n        value: this.state.clave_reg,\n        onChange: this.handleChangePasswordReg,\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 19\n        }\n      }), __jsx(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        className: \"buttonregister\",\n        onClick: this.createUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 19\n        }\n      }, \"Registrarse\")), __jsx(\"div\", {\n        className: \"jsx-2916113124\" + \" \" + \"secondarytext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }\n      }, \"Al registrarse, acepta nuestras\", __jsx(\"a\", {\n        href: \"/terms/\",\n        target: \"_blank\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 19\n        }\n      }, \"condiciones generales de uso\"), \"y\", \" \", __jsx(\"a\", {\n        href: \"/terms/privacy/\",\n        target: \"_blank\",\n        className: \"jsx-2916113124\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 19\n        }\n      }, \"nuestra pol\\xEDtica de privacidad\"), \".\"))))), __jsx(_JSXStyle, {\n        id: \"2916113124\",\n        __self: this\n      }, \".login.jsx-2916113124{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;text-align:center;}form.jsx-2916113124{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-2916113124{font-weight:600;}input.jsx-2916113124{padding:8px;margin:0.2rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-2916113124{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-2916113124{display:block;}.headermodal.jsx-2916113124{border-bottom:solid 1px #dedfe0;border-top-left-radius:6px;border-top-right-radius:6px;color:#29303b;display:block;font-weight:700;font-size:15px;padding:24px 64px 24px 24px;}.buttonregister.jsx-2916113124{font-size:16px;font-weight:700;height:48px;margin-bottom:16px;width:100%;}.contentmodal.jsx-2916113124{padding:24px 24px 16px;}.modalclose.jsx-2916113124{color:#686f7a;font-size:36px;font-weight:400;opacity:1;position:relative;z-index:3;padding:0 8px;background-color:white;border:none;overflow:hidden;margin-bottom:0;margin-top:-8px;position:absolute;right:24px;top:24px;}.secondarytext.jsx-2916113124{margin:0 0 16px;margin-top:10px;font-size:10px;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2ViYXN0aWFuXFxEZXNrdG9wXFxpbmNhc2V3ZWJcXHBhZ2VzXFxsb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1U29CLEFBRzZCLEFBUUgsQUFJRyxBQUdKLEFBTU0sQUFLSixBQUdrQixBQVVqQixBQU9RLEFBR1QsQUFpQkUsWUFsREssRUFXdkIsQUF1QmlCLENBVkMsQ0F2Q0YsQUFZaEIsQUFzRGtCLEVBN0NILEtBeUJmLE1BSWtCLENBakRILENBcUJELEFBa0JBLENBWGUsQUFzQ1osQ0FuRE8sVUFkQSxBQXFCeEIsQUFrQnFCLEVBVVQsRUFpQlEsUUFuREEsQUFtQ0EsSUF0QlUsR0FZakIsR0F2Q08sQUFrRXBCLFFBbkRBLEFBeUJBLEFBVVksQ0E3Q08sU0FKQyxBQWtESixJQXZCQSxVQXdCUyxJQWxEekIsQUEyQmdCLGNBQ0UsS0F1QkosV0F0QkcsQ0F1QkMsS0FoRGxCLFNBMEI4QixFQXVCWixnQkFDQSxVQXZCbEIsTUF3Qm9CLGtCQUNQLFdBQ0YsU0FDWCIsImZpbGUiOiJDOlxcVXNlcnNcXFNlYmFzdGlhblxcRGVza3RvcFxcaW5jYXNld2ViXFxwYWdlc1xcbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XHJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XHJcbi8vaW1wb3J0IFwiLi4vY29tcG9uZW50cy9Mb2dpbi5zY3NzXCI7XHJcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvbGF5b3V0XCI7XHJcbmltcG9ydCB7IENvb2tpZXMgfSBmcm9tIFwicmVhY3QtY29va2llXCI7XHJcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uXCI7XHJcbmltcG9ydCB7IGdyZWVuLCBwdXJwbGUgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwicmVhY3QtbW9kYWxcIjtcclxuaW1wb3J0IHsgY3JlYXRlVXN1YXJpbyB9IGZyb20gXCIuLi9BUEkvaGVscGVyc0FQSVwiO1xyXG5cclxuY29uc3QgY3VzdG9tU3R5bGVzID0ge1xyXG4gIGNvbnRlbnQ6IHtcclxuICAgIHRvcDogXCI1MCVcIixcclxuICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICByaWdodDogXCJhdXRvXCIsXHJcbiAgICBib3R0b206IFwiYXV0b1wiLFxyXG4gICAgbWFyZ2luUmlnaHQ6IFwiLTUwJVwiLFxyXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLCAtNTAlKVwiLFxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBhcHBUaXRsZSA9IGBXSEFUQUJZVEVgO1xyXG5jb25zdCBjb29raWVzID0gbmV3IENvb2tpZXMoKTtcclxudmFyIHN1YnRpdGxlID0gXCJkZGRkXCI7XHJcblxyXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIGdldEluaXRpYWxQcm9wcyh7IHN0b3JlLCByZXEgfSkge1xyXG4gICAgY29uc29sZS5sb2coXCJsYSBzdG9yZTpcIiArIHN0b3JlKTtcclxuXHJcbiAgICBjb25zdCBhcGlVcmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hdXRoL2xvZ2luXCI7XHJcblxyXG4gICAgcmV0dXJuIHsgYXBpVXJsIH07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgY29uc3QgeyBzZW5kIH0gPSByZXF1aXJlKFwibWljcm9cIik7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY29ycmVvOiBcIlwiLFxyXG4gICAgICBjbGF2ZTogXCJcIixcclxuICAgICAgZXJyb3I6IFwiXCIsXHJcbiAgICAgIHRva2VuOiBjb29raWVzLmdldChcInRva2VuXCIpIHx8IG51bGwsXHJcbiAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZSxcclxuICAgICAgbm9tX3JlZzogXCJcIixcclxuICAgICAgYXBlbGxfcmVnOiBcIlwiLFxyXG4gICAgICBjb3JyZW9fcmVnOiBcIlwiLFxyXG4gICAgICBjbGF2ZV9yZWc6IFwiXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmQgPSB0aGlzLmhhbmRsZUNoYW5nZVBhc3N3b3JkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZU5vbVJlZyA9IHRoaXMuaGFuZGxlQ2hhbmdlTm9tUmVnLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZUFwZWxsUmVnID0gdGhpcy5oYW5kbGVDaGFuZ2VBcGVsbFJlZy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VDb3JyZW9SZWcgPSB0aGlzLmhhbmRsZUNoYW5nZUNvcnJlb1JlZy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZFJlZyA9IHRoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmRSZWcuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlVXNlciA9IHRoaXMuY3JlYXRlVXNlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vcGVuTW9kYWwgPSB0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jbG9zZU1vZGFsID0gdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICBNb2RhbC5zZXRBcHBFbGVtZW50KFwiYm9keVwiKTtcclxuICB9XHJcblxyXG4gIC8vIE1PREFMIEZVTkNUSU9OU1xyXG5cclxuICBvcGVuTW9kYWwoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxJc09wZW46IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBhZnRlck9wZW5Nb2RhbCgpIHtcclxuICAgIC8vIHJlZmVyZW5jZXMgYXJlIG5vdyBzeW5jJ2QgYW5kIGNhbiBiZSBhY2Nlc3NlZC5cclxuICAgIC8vIHN1YnRpdGxlLnN0eWxlLmNvbG9yID0gJyNmMDAnO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VNb2RhbCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT3BlbjogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBIQU5ETEUgRVZFTlQgVE8gQ0hBTkdFIFRIRSBTVEFURSBWQUxVRVxyXG5cclxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjb3JyZW86IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZVBhc3N3b3JkKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY2xhdmU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcbiAgaGFuZGxlQ2hhbmdlTm9tUmVnKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbm9tX3JlZzogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2hhbmdlQXBlbGxSZWcoZXZlbnQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBhcGVsbF9yZWc6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcbiAgaGFuZGxlQ2hhbmdlQ29ycmVvUmVnKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVvX3JlZzogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuICBoYW5kbGVDaGFuZ2VQYXNzd29yZFJlZyhldmVudCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNsYXZlX3JlZzogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gIFdFQiBTRVJWSUNFUyBGVU5DVElPTlNcclxuXHJcbiAgYXN5bmMgaGFuZGxlU3VibWl0KGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IF9jb3JyZW8gPSB0aGlzLnN0YXRlLmNvcnJlbztcclxuICAgICAgY29uc3QgX2NsYXZlID0gdGhpcy5zdGF0ZS5jbGF2ZTtcclxuICAgICAgY29uc3QgdXJsID0gdGhpcy5wcm9wcy5hcGlVcmw7XHJcbiAgICAgIGNvbnN0IGJvZHkgPSB7IGNvcnJlbzogX2NvcnJlbywgY2xhdmU6IF9jbGF2ZSB9O1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gZGF0YS5hY2Nlc3NfdG9rZW47XHJcbiAgICAgICAgY29va2llcy5zZXQoXCJ0b2tlblwiLCB0b2tlbik7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0geyB0eXBlOiBcIkFERF9VU0VSX0lEXCIsIHBheWxvYWQ6IGRhdGEudXNlcl9pZCB9O1xyXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWN0aW9uKTtcclxuICAgICAgICBSb3V0ZXIucHVzaChcIi9cIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgZXJyb3IuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBlcnJvcjogZGF0YS5tZXNzYWdlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiWW91IGhhdmUgYW4gZXJyb3IgaW4geW91ciBjb2RlIG9yIHRoZXJlIGFyZSBOZXR3b3JrIGlzc3Vlcy5cIixcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZVVzZXIoKSB7XHJcbiAgICBsZXQgX3RvaW5zZXJ0ID0ge1xyXG4gICAgICBub21icmU6IHRoaXMuc3RhdGUubm9tX3JlZyxcclxuICAgICAgYXBlbGxpZG86IHRoaXMuc3RhdGUuYXBlbGxfcmVnLFxyXG4gICAgICBjb3JyZW86IHRoaXMuc3RhdGUuY29ycmVvX3JlZyxcclxuICAgICAgY2xhdmU6IHRoaXMuc3RhdGUuY2xhdmVfcmVnLFxyXG4gICAgfTtcclxuICAgIGNyZWF0ZVVzdWFyaW8oX3RvaW5zZXJ0KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiTGF5b3V0TG9naW5cIj5cclxuICAgICAgICA8SGVhZD5cclxuICAgICAgICAgIDx0aXRsZT5XSEFUQUJZVEU8L3RpdGxlPlxyXG4gICAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cclxuICAgICAgICAgIDxtZXRhIGNoYXJTZXQ9XCJ1dGYtOFwiIC8+XHJcbiAgICAgICAgPC9IZWFkPlxyXG5cclxuICAgICAgICA8SGVhZGVyIGFwcFRpdGxlPXthcHBUaXRsZX0gLz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkNvbnRlbnRcIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxoMz5cclxuICAgICAgICAgICAgICBCaWVudmVuaWRvIGEge2FwcFRpdGxlfSAsIFBvcmZhdm9yIGRpZ2l0ZSBzdSB1c3VhcmlvIHkgY29udHJhc2VuYVxyXG4gICAgICAgICAgICAgIDp7XCIgXCJ9XHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luXCI+XHJcbiAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+VXN1YXJpbzwvbGFiZWw+XHJcblxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuICAgICAgICAgICAgICAgIGlkPVwiY29ycmVvXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJjb3JyZW9cIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY29ycmVvfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJjbGF2ZVwiPkNvbnRyYXNlw7FhPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICBpZD1cImNsYXZlXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJjbGF2ZVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jbGF2ZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZVBhc3N3b3JkfVxyXG4gICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxyXG4gICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEluaWNpYXIgU2VzaW9uXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICAgICAgICAgIDxsYWJlbD5vPC9sYWJlbD5cclxuXHJcbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwicmVnaXN0ZXJ0ZXh0XCIgb25DbGljaz17dGhpcy5vcGVuTW9kYWx9PlxyXG4gICAgICAgICAgICAgICAgUmVnaXN0cmF0ZVxyXG4gICAgICAgICAgICAgIDwvYT5cclxuXHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgZXJyb3IgJHt0aGlzLnN0YXRlLmVycm9yICYmIFwic2hvd1wifWB9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3IgJiYgYEVycm9yOiAke3RoaXMuc3RhdGUuZXJyb3J9YH1cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgaXNPcGVuPXt0aGlzLnN0YXRlLm1vZGFsSXNPcGVufVxyXG4gICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e2N1c3RvbVN0eWxlc31cclxuICAgICAgICAgICAgICBjb250ZW50TGFiZWw9XCJFeGFtcGxlIE1vZGFsXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVybW9kYWxcIj5cclxuICAgICAgICAgICAgICAgIMKhIFJlZ8Otc3RyYXRlIHkgY29taWVuemEgYSBhcHJlbmRlciAmbmJzcDshXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDZXJyYXJcIlxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWxjbG9zZVwiXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+w5c8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRtb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibm9tYnJlXCI+Tm9tYnJlPC9sYWJlbD5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cIm5vbWJyZV9yZWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJub21icmVfcmVnXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ub21fcmVnfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZU5vbVJlZ31cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhcGVsbGlkb1wiPkFwZWxsaWRvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiYXBlbGxpZG9fcmVnXCJcclxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiYXBlbGxpZG9fcmVnXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hcGVsbF9yZWd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlQXBlbGxSZWd9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+Q29ycmVvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiY29ycmVvX3JlZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvcnJlb19yZWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNvcnJlb19yZWd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlQ29ycmVvUmVnfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNsYXZlXCI+Q29udHJhc2XDsWE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJjbGF2ZV9yZWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjbGF2ZV9yZWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNsYXZlX3JlZ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZFJlZ31cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b25yZWdpc3RlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jcmVhdGVVc2VyfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgUmVnaXN0cmFyc2VcclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY29uZGFyeXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgQWwgcmVnaXN0cmFyc2UsIGFjZXB0YSBudWVzdHJhc1xyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL3Rlcm1zL1wiIHRhcmdldD1cIl9ibGFua1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpY2lvbmVzIGdlbmVyYWxlcyBkZSB1c29cclxuICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICB5e1wiIFwifVxyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL3Rlcm1zL3ByaXZhY3kvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgbnVlc3RyYSBwb2zDrXRpY2EgZGUgcHJpdmFjaWRhZFxyXG4gICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgIC5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLmxvZ2luIHtcclxuICAgICAgICAgICAgbWF4LXdpZHRoOiAzNDBweDtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9ybSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMC4ycmVtIDAgMXJlbTtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmVycm9yIHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMCAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICBjb2xvcjogYnJvd247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZXJyb3Iuc2hvdyB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmhlYWRlcm1vZGFsIHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNkZWRmZTA7XHJcbiAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgY29sb3I6ICMyOTMwM2I7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDI0cHggNjRweCAyNHB4IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYnV0dG9ucmVnaXN0ZXIge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDhweDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuY29udGVudG1vZGFsIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMjRweCAyNHB4IDE2cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubW9kYWxjbG9zZSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjNjg2ZjdhO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDM2cHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgei1pbmRleDogMztcclxuICAgICAgICAgICAgcGFkZGluZzogMCA4cHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IC04cHg7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIHRvcDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5zZWNvbmRhcnl0ZXh0IHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIDAgMTZweDtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KChzdGF0ZSkgPT4gc3RhdGUpKExvZ2luKTtcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Sebastian\\\\\\\\Desktop\\\\\\\\incaseweb\\\\\\\\pages\\\\\\\\login.js */\"));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default connect(function (state) {\n  return state;\n})(Login);","map":{"version":3,"sources":["C:/Users/Sebastian/Desktop/incaseweb/pages/login.js"],"names":["Head","Header","Component","Link","fetch","Layout","Cookies","Router","connect","Button","green","purple","Modal","createUsuario","customStyles","content","top","left","right","bottom","marginRight","transform","appTitle","cookies","subtitle","Login","store","req","console","log","apiUrl","props","require","send","state","correo","clave","error","token","get","modalIsOpen","nom_reg","apell_reg","correo_reg","clave_reg","handleChange","bind","handleSubmit","handleChangePassword","handleChangeNomReg","handleChangeApellReg","handleChangeCorreoReg","handleChangePasswordReg","createUser","openModal","closeModal","setAppElement","setState","event","target","value","preventDefault","_correo","_clave","url","body","method","headers","JSON","stringify","response","json","data","status","access_token","set","action","type","payload","user_id","dispatch","push","Error","message","_toinsert","nombre","apellido","then","afterOpenModal"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\r\nimport Header from \"../components/Header\";\r\nimport { Component } from \"react\";\r\nimport Link from \"next/link\";\r\nimport fetch from \"isomorphic-unfetch\";\r\n//import \"../components/Login.scss\";\r\nimport Layout from \"../components/layout\";\r\nimport { Cookies } from \"react-cookie\";\r\nimport Router from \"next/router\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { green, purple } from \"@material-ui/core/colors\";\r\nimport Modal from \"react-modal\";\r\nimport { createUsuario } from \"../API/helpersAPI\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nconst appTitle = `WHATABYTE`;\r\nconst cookies = new Cookies();\r\nvar subtitle = \"dddd\";\r\n\r\nclass Login extends Component {\r\n  static getInitialProps({ store, req }) {\r\n    console.log(\"la store:\" + store);\r\n\r\n    const apiUrl = \"http://localhost:8080/auth/login\";\r\n\r\n    return { apiUrl };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { send } = require(\"micro\");\r\n\r\n    this.state = {\r\n      correo: \"\",\r\n      clave: \"\",\r\n      error: \"\",\r\n      token: cookies.get(\"token\") || null,\r\n      modalIsOpen: false,\r\n      nom_reg: \"\",\r\n      apell_reg: \"\",\r\n      correo_reg: \"\",\r\n      clave_reg: \"\",\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleChangeNomReg = this.handleChangeNomReg.bind(this);\r\n    this.handleChangeApellReg = this.handleChangeApellReg.bind(this);\r\n    this.handleChangeCorreoReg = this.handleChangeCorreoReg.bind(this);\r\n    this.handleChangePasswordReg = this.handleChangePasswordReg.bind(this);\r\n    this.createUser = this.createUser.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    Modal.setAppElement(\"body\");\r\n  }\r\n\r\n  // MODAL FUNCTIONS\r\n\r\n  openModal() {\r\n    this.setState({ modalIsOpen: true });\r\n  }\r\n\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    // subtitle.style.color = '#f00';\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({ modalIsOpen: false });\r\n  }\r\n\r\n  // HANDLE EVENT TO CHANGE THE STATE VALUE\r\n\r\n  handleChange(event) {\r\n    this.setState({ correo: event.target.value });\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    this.setState({ clave: event.target.value });\r\n  }\r\n  handleChangeNomReg(event) {\r\n    this.setState({ nom_reg: event.target.value });\r\n  }\r\n\r\n  handleChangeApellReg(event) {\r\n    this.setState({ apell_reg: event.target.value });\r\n  }\r\n  handleChangeCorreoReg(event) {\r\n    this.setState({ correo_reg: event.target.value });\r\n  }\r\n  handleChangePasswordReg(event) {\r\n    this.setState({ clave_reg: event.target.value });\r\n  }\r\n\r\n  //  WEB SERVICES FUNCTIONS\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const _correo = this.state.correo;\r\n      const _clave = this.state.clave;\r\n      const url = this.props.apiUrl;\r\n      const body = { correo: _correo, clave: _clave };\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.status === 200) {\r\n        const token = data.access_token;\r\n        cookies.set(\"token\", token);\r\n        const action = { type: \"ADD_USER_ID\", payload: data.user_id };\r\n        this.props.dispatch(action);\r\n        Router.push(\"/\");\r\n      } else {\r\n        let error = new Error(data.message);\r\n        error.data = data;\r\n        this.setState({\r\n          error: data.message,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"You have an error in your code or there are Network issues.\",\r\n        error\r\n      );\r\n\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  async createUser() {\r\n    let _toinsert = {\r\n      nombre: this.state.nom_reg,\r\n      apellido: this.state.apell_reg,\r\n      correo: this.state.correo_reg,\r\n      clave: this.state.clave_reg,\r\n    };\r\n    createUsuario(_toinsert).then((response) => {\r\n      console.log(response);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"LayoutLogin\">\r\n        <Head>\r\n          <title>WHATABYTE</title>\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n          <meta charSet=\"utf-8\" />\r\n        </Head>\r\n\r\n        <Header appTitle={appTitle} />\r\n        <div className=\"Content\">\r\n          <div>\r\n            <h3>\r\n              Bienvenido a {appTitle} , Porfavor digite su usuario y contrasena\r\n              :{\" \"}\r\n            </h3>\r\n          </div>\r\n\r\n          <div className=\"login\">\r\n            <form>\r\n              <label htmlFor=\"correo\">Usuario</label>\r\n\r\n              <input\r\n                type=\"email\"\r\n                id=\"correo\"\r\n                name=\"correo\"\r\n                value={this.state.correo}\r\n                onChange={this.handleChange}\r\n              />\r\n              <label htmlFor=\"clave\">Contrasea</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"clave\"\r\n                name=\"clave\"\r\n                value={this.state.clave}\r\n                onChange={this.handleChangePassword}\r\n              />\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={this.handleSubmit}\r\n              >\r\n                Iniciar Sesion\r\n              </Button>\r\n\r\n              <label>o</label>\r\n\r\n              <a className=\"registertext\" onClick={this.openModal}>\r\n                Registrate\r\n              </a>\r\n\r\n              <p className={`error ${this.state.error && \"show\"}`}>\r\n                {this.state.error && `Error: ${this.state.error}`}\r\n              </p>\r\n            </form>\r\n          </div>\r\n          <div>\r\n            <Modal\r\n              isOpen={this.state.modalIsOpen}\r\n              onAfterOpen={this.afterOpenModal}\r\n              onRequestClose={this.closeModal}\r\n              style={customStyles}\r\n              contentLabel=\"Example Modal\"\r\n            >\r\n              <div className=\"headermodal\">\r\n                 Regstrate y comienza a aprender &nbsp;!\r\n                <button\r\n                  aria-label=\"Cerrar\"\r\n                  type=\"button\"\r\n                  className=\"modalclose\"\r\n                  onClick={this.closeModal}\r\n                >\r\n                  <span aria-hidden=\"true\"></span>\r\n                </button>\r\n              </div>\r\n              <div className=\"contentmodal\">\r\n                <form>\r\n                  <label htmlFor=\"nombre\">Nombre</label>\r\n\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"nombre_reg\"\r\n                    name=\"nombre_reg\"\r\n                    value={this.state.nom_reg}\r\n                    onChange={this.handleChangeNomReg}\r\n                  />\r\n                  <label htmlFor=\"apellido\">Apellido</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"apellido_reg\"\r\n                    name=\"apellido_reg\"\r\n                    value={this.state.apell_reg}\r\n                    onChange={this.handleChangeApellReg}\r\n                  />\r\n                  <label htmlFor=\"correo\">Correo</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"correo_reg\"\r\n                    name=\"correo_reg\"\r\n                    value={this.state.correo_reg}\r\n                    onChange={this.handleChangeCorreoReg}\r\n                  />\r\n                  <label htmlFor=\"clave\">Contrasea</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"clave_reg\"\r\n                    name=\"clave_reg\"\r\n                    value={this.state.clave_reg}\r\n                    onChange={this.handleChangePasswordReg}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    className=\"buttonregister\"\r\n                    onClick={this.createUser}\r\n                  >\r\n                    Registrarse\r\n                  </Button>\r\n                </form>\r\n                <div className=\"secondarytext\">\r\n                  Al registrarse, acepta nuestras\r\n                  <a href=\"/terms/\" target=\"_blank\">\r\n                    condiciones generales de uso\r\n                  </a>\r\n                  y{\" \"}\r\n                  <a href=\"/terms/privacy/\" target=\"_blank\">\r\n                    nuestra poltica de privacidad\r\n                  </a>\r\n                  .\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n        <style jsx>{`\r\n          .login {\r\n            max-width: 340px;\r\n            margin: 0 auto;\r\n            padding: 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            text-align: center;\r\n          }\r\n          form {\r\n            display: flex;\r\n            flex-flow: column;\r\n          }\r\n          label {\r\n            font-weight: 600;\r\n          }\r\n          input {\r\n            padding: 8px;\r\n            margin: 0.2rem 0 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n          }\r\n          .error {\r\n            margin: 0.5rem 0 0;\r\n            display: none;\r\n            color: brown;\r\n          }\r\n          .error.show {\r\n            display: block;\r\n          }\r\n          .headermodal {\r\n            border-bottom: solid 1px #dedfe0;\r\n            border-top-left-radius: 6px;\r\n            border-top-right-radius: 6px;\r\n            color: #29303b;\r\n            display: block;\r\n            font-weight: 700;\r\n            font-size: 15px;\r\n            padding: 24px 64px 24px 24px;\r\n          }\r\n          .buttonregister {\r\n            font-size: 16px;\r\n            font-weight: 700;\r\n            height: 48px;\r\n            margin-bottom: 16px;\r\n            width: 100%;\r\n          }\r\n          .contentmodal {\r\n            padding: 24px 24px 16px;\r\n          }\r\n          .modalclose {\r\n            color: #686f7a;\r\n            font-size: 36px;\r\n            font-weight: 400;\r\n            opacity: 1;\r\n            position: relative;\r\n            z-index: 3;\r\n            padding: 0 8px;\r\n            background-color: white;\r\n            border: none;\r\n            overflow: hidden;\r\n            margin-bottom: 0;\r\n            margin-top: -8px;\r\n            position: absolute;\r\n            right: 24px;\r\n            top: 24px;\r\n          }\r\n          .secondarytext {\r\n            margin: 0 0 16px;\r\n            margin-top: 10px;\r\n            font-size: 10px;\r\n            text-align: center;\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => state)(Login);\r\n"]},"metadata":{},"sourceType":"module"}