{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Documents\\\\gocar\\\\incaseweb\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport Header from \"../components/Header\";\nimport { Component } from \"react\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\nimport Layout from \"../components/layout\";\nimport { login } from \"../api/login\";\nimport { Cookies } from \"react-cookie\";\nimport Router from \"next/router\";\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport { green, purple } from '@material-ui/core/colors';\nimport Modal from 'react-modal';\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nconst appTitle = `WHATABYTE`;\nconst cookies = new Cookies();\n\nclass Login extends Component {\n  static getInitialProps({\n    store,\n    req\n  }) {\n    console.log(\"la store:\" + store);\n    const apiUrl = \"http://localhost:8080/auth/login\";\n    return {\n      apiUrl\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    const {\n      send\n    } = require(\"micro\");\n\n    this.state = {\n      correo: \"\",\n      clave: \"\",\n      error: \"\",\n      token: cookies.get(\"token\") || null,\n      modalIsOpen: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n  }\n\n  setIsOpen(value) {}\n\n  openModal() {\n    this.setState({\n      modalIsOpen: true\n    });\n  }\n\n  afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = '#f00';\n  }\n\n  closeModal() {\n    this.setIsOpen(false);\n  }\n\n  handleChange(event) {\n    this.setState({\n      correo: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      clave: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n\n    try {\n      const _correo = this.state.correo;\n      const _clave = this.state.clave;\n      const url = this.props.apiUrl;\n      const body = {\n        correo: _correo,\n        clave: _clave\n      };\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      console.log(\"Hillipoyas\" + JSON.stringify(data)); //console.log(\"status\"+data.status)\n\n      if (data.status === 200) {\n        const token = data.access_token;\n        cookies.set(\"token\", token);\n        const action = {\n          type: 'ADD_USER_ID',\n          payload: data.user_id\n        };\n        this.props.dispatch(action);\n        console.log(\"Login succesfully\");\n        Router.push(\"/\"); //   const { access_token } = await response.json();\n        //   login({ access_token });\n      } else {\n        console.log(\"Login failed.\"); // https://github.com/developit/unfetch#caveats\n\n        let error = new Error(data.message);\n        error.data = data;\n        this.setState({\n          error: data.message\n        }); //  return Promise.reject(error);\n      }\n    } catch (error) {\n      console.error(\"You have an error in your code or there are Network issues.\", error);\n      throw new Error(error);\n    }\n  }\n\n  render() {\n    console.log(\"login\" + JSON.stringify(this.props));\n    return __jsx(\"div\", {\n      className: \"jsx-2471165732\" + \" \" + \"Layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, __jsx(\"title\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"WHATABYTE\"), __jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1\",\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }), __jsx(\"meta\", {\n      charSet: \"utf-8\",\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    })), __jsx(Header, {\n      appTitle: appTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"jsx-2471165732\" + \" \" + \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, __jsx(\"h3\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, \"Bienvenido a \", appTitle, \" , Porfavor digite su usuario y contrasena :  \")), __jsx(\"div\", {\n      className: \"jsx-2471165732\" + \" \" + \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, __jsx(\"form\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"correo\",\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"Usuario\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"correo\",\n      name: \"correo\",\n      value: this.state.correo,\n      onChange: this.handleChange,\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }), __jsx(\"label\", {\n      htmlFor: \"clave\",\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"Password\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"clave\",\n      name: \"clave\",\n      value: this.state.clave,\n      onChange: this.handleChangePassword,\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }), __jsx(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"Iniciar Sesion\"), __jsx(\"label\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 16\n      }\n    }, \"o\"), __jsx(\"a\", {\n      onClick: this.openModal,\n      className: \"jsx-2471165732\" + \" \" + \"registertext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 16\n      }\n    }, \"Registrate\"), __jsx(\"p\", {\n      className: \"jsx-2471165732\" + \" \" + `error ${this.state.error && \"show\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, this.state.error && `Error: ${this.state.error}`))), __jsx(\"div\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 10\n      }\n    }, __jsx(Modal, {\n      isOpen: this.state.modalIsOpen,\n      onAfterOpen: this.afterOpenModal,\n      onRequestClose: this.closeModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 10\n      }\n    }, __jsx(\"h2\", {\n      ref: _subtitle => subtitle = _subtitle,\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, \"Hello\"), __jsx(\"button\", {\n      onClick: this.closeModal,\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, \"close\"), __jsx(\"div\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, \"I am a modal\"), __jsx(\"form\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, __jsx(\"input\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }), __jsx(\"button\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, \"tab navigation\"), __jsx(\"button\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, \"stays\"), __jsx(\"button\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"inside\"), __jsx(\"button\", {\n      className: \"jsx-2471165732\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, \"the modal\"))))), __jsx(_JSXStyle, {\n      id: \"2471165732\",\n      __self: this\n    }, \".login.jsx-2471165732{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;text-align:center;}form.jsx-2471165732{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-2471165732{font-weight:600;}input.jsx-2471165732{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-2471165732{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-2471165732{display:block;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUmlhbm9cXERvY3VtZW50c1xcZ29jYXJcXGluY2FzZXdlYlxccGFnZXNcXGxvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBNb0IsQUFHNkIsQUFRSCxBQUlHLEFBR0osQUFNTSxBQUtKLFlBVk8sRUFXdkIsRUExQmdCLEFBWWhCLEVBU2UsWUFwQkEsQ0FxQkQsRUFOVSxVQWRBLEFBcUJ4QixZQU5vQixVQWRBLFFBZXBCLENBVm1CLFNBSkMsa0JBQ3BCLG9DQUlBIiwiZmlsZSI6IkM6XFxVc2Vyc1xcUmlhbm9cXERvY3VtZW50c1xcZ29jYXJcXGluY2FzZXdlYlxccGFnZXNcXGxvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBIZWFkIGZyb20gXCJuZXh0L2hlYWRcIjtcclxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi4vY29tcG9uZW50cy9IZWFkZXJcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCAgTGluayAgZnJvbSBcIm5leHQvbGlua1wiO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtdW5mZXRjaFwiO1xyXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL2xheW91dFwiO1xyXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gXCIuLi9hcGkvbG9naW5cIjtcclxuaW1wb3J0IHsgQ29va2llcyB9IGZyb20gXCJyZWFjdC1jb29raWVcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuaW1wb3J0IHtjb25uZWN0fSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uXCI7XHJcbmltcG9ydCB7IGdyZWVuLCBwdXJwbGUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xyXG5cclxuY29uc3QgY3VzdG9tU3R5bGVzID0ge1xyXG4gIGNvbnRlbnQgOiB7XHJcbiAgICB0b3AgICAgICAgICAgICAgICAgICAgOiAnNTAlJyxcclxuICAgIGxlZnQgICAgICAgICAgICAgICAgICA6ICc1MCUnLFxyXG4gICAgcmlnaHQgICAgICAgICAgICAgICAgIDogJ2F1dG8nLFxyXG4gICAgYm90dG9tICAgICAgICAgICAgICAgIDogJ2F1dG8nLFxyXG4gICAgbWFyZ2luUmlnaHQgICAgICAgICAgIDogJy01MCUnLFxyXG4gICAgdHJhbnNmb3JtICAgICAgICAgICAgIDogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSdcclxuICB9XHJcbn07XHJcbiBcclxuY29uc3QgYXBwVGl0bGUgPSBgV0hBVEFCWVRFYDtcclxuY29uc3QgY29va2llcyA9IG5ldyBDb29raWVzKCk7XHJcbmNsYXNzIExvZ2luIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgZ2V0SW5pdGlhbFByb3BzKHsgc3RvcmUscmVxIH0pIHtcclxuICAgIGNvbnNvbGUubG9nKFwibGEgc3RvcmU6XCIrc3RvcmUpXHJcblxyXG4gICAgY29uc3QgYXBpVXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9sb2dpblwiO1xyXG5cclxuICAgIHJldHVybiB7IGFwaVVybCB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIGNvbnN0IHsgc2VuZCB9ID0gcmVxdWlyZShcIm1pY3JvXCIpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGNvcnJlbzogXCJcIixcclxuICAgICAgY2xhdmU6IFwiXCIsXHJcbiAgICAgIGVycm9yOiBcIlwiLFxyXG4gICAgICB0b2tlbjogY29va2llcy5nZXQoXCJ0b2tlblwiKSB8fCBudWxsLFxyXG4gICAgICBtb2RhbElzT3BlbjogZmFsc2UgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZVBhc3N3b3JkID0gdGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZC5iaW5kKHRoaXMpO1xyXG4gIH0gXHJcblxyXG4gIHNldElzT3Blbih2YWx1ZSl7XHJcbiAgXHJcbiAgICBcclxuICB9XHJcbiAgIFxyXG4gIG9wZW5Nb2RhbCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT3BlbjogdHJ1ZSB9KTtcclxuICB9XHJcbiAgXHJcbiAgIGFmdGVyT3Blbk1vZGFsKCkge1xyXG4gICAgLy8gcmVmZXJlbmNlcyBhcmUgbm93IHN5bmMnZCBhbmQgY2FuIGJlIGFjY2Vzc2VkLlxyXG4gICAgc3VidGl0bGUuc3R5bGUuY29sb3IgPSAnI2YwMCc7XHJcbiAgfVxyXG4gXHJcbiAgIGNsb3NlTW9kYWwoKXtcclxuICAgdGhpcy5zZXRJc09wZW4oZmFsc2UpO1xyXG4gIH1cclxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjb3JyZW86IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZVBhc3N3b3JkKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY2xhdmU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBfY29ycmVvID0gdGhpcy5zdGF0ZS5jb3JyZW87XHJcbiAgICAgIGNvbnN0IF9jbGF2ZSA9IHRoaXMuc3RhdGUuY2xhdmU7XHJcbiAgICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMuYXBpVXJsO1xyXG4gICAgICBjb25zdCBib2R5ID0geyBjb3JyZW86IF9jb3JyZW8sIGNsYXZlOiBfY2xhdmUgfTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiSGlsbGlwb3lhc1wiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAvL2NvbnNvbGUubG9nKFwic3RhdHVzXCIrZGF0YS5zdGF0dXMpXHJcbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBkYXRhLmFjY2Vzc190b2tlbjtcclxuICAgICAgICBjb29raWVzLnNldChcInRva2VuXCIsIHRva2VuKTtcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSB7IHR5cGU6ICdBRERfVVNFUl9JRCcgLHBheWxvYWQ6IGRhdGEudXNlcl9pZCB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTG9naW4gc3VjY2VzZnVsbHlcIik7XHJcbiAgICAgICAgUm91dGVyLnB1c2goXCIvXCIpO1xyXG4gICAgICAgIC8vICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4gfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAvLyAgIGxvZ2luKHsgYWNjZXNzX3Rva2VuIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTG9naW4gZmFpbGVkLlwiKTtcclxuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC91bmZldGNoI2NhdmVhdHNcclxuICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICBlcnJvci5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGVycm9yOiBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJZb3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIGNvZGUgb3IgdGhlcmUgYXJlIE5ldHdvcmsgaXNzdWVzLlwiLFxyXG4gICAgICAgIGVycm9yXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJsb2dpblwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcykpXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIkxheW91dFwiPlxyXG4gICAgICAgIDxIZWFkPlxyXG4gICAgICAgICAgPHRpdGxlPldIQVRBQllURTwvdGl0bGU+XHJcbiAgICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIiAvPlxyXG4gICAgICAgICAgPG1ldGEgY2hhclNldD1cInV0Zi04XCIgLz5cclxuICAgICAgICA8L0hlYWQ+XHJcblxyXG4gICAgICAgIDxIZWFkZXIgYXBwVGl0bGU9e2FwcFRpdGxlfSAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQ29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMz5CaWVudmVuaWRvIGEge2FwcFRpdGxlfSAsIFBvcmZhdm9yIGRpZ2l0ZSBzdSB1c3VhcmlvIHkgY29udHJhc2VuYSA6ICA8L2gzPlxyXG5cclxuICAgICAgICAgICBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luXCI+XHJcbiAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+VXN1YXJpbzwvbGFiZWw+XHJcblxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9XCJjb3JyZW9cIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvcnJlb1wiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jb3JyZW99XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNsYXZlXCI+UGFzc3dvcmQ8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9XCJjbGF2ZVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiY2xhdmVcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2xhdmV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZH1cclxuICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJjb250YWluZWRcIiBjb2xvcj1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgICAgICBJbmljaWFyIFNlc2lvblxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICA8bGFiZWw+bzwvbGFiZWw+XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJyZWdpc3RlcnRleHRcIiBvbkNsaWNrPXt0aGlzLm9wZW5Nb2RhbH0+UmVnaXN0cmF0ZTwvYT5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YGVycm9yICR7dGhpcy5zdGF0ZS5lcnJvciAmJiBcInNob3dcIn1gfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yICYmIGBFcnJvcjogJHt0aGlzLnN0YXRlLmVycm9yfWB9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPGRpdj5cclxuICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XHJcbiAgICAgICAgICBvbkFmdGVyT3Blbj17dGhpcy5hZnRlck9wZW5Nb2RhbH1cclxuICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XHJcbiAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiXHJcbiAgICAgICAgPlxyXG4gXHJcbiAgICAgICAgICA8aDIgcmVmPXtfc3VidGl0bGUgPT4gKHN1YnRpdGxlID0gX3N1YnRpdGxlKX0+SGVsbG88L2gyPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNsb3NlTW9kYWx9PmNsb3NlPC9idXR0b24+XHJcbiAgICAgICAgICA8ZGl2PkkgYW0gYSBtb2RhbDwvZGl2PlxyXG4gICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgIDxpbnB1dCAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uPnRhYiBuYXZpZ2F0aW9uPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24+c3RheXM8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbj5pbnNpZGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbj50aGUgbW9kYWw8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIC5sb2dpbiB7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMzQwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhYmVsIHtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0IHtcclxuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDAuM3JlbSAwIDFyZW07XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5lcnJvciB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMC41cmVtIDAgMDtcclxuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgY29sb3I6IGJyb3duO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmVycm9yLnNob3cge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0ICBjb25uZWN0KFxyXG4gIChzdGF0ZSkgPT4gc3RhdGUsXHJcbiBcclxuKShMb2dpbik7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Riano\\\\\\\\Documents\\\\\\\\gocar\\\\\\\\incaseweb\\\\\\\\pages\\\\\\\\login.js */\"));\n  }\n\n}\n\nexport default connect(state => state)(Login);","map":{"version":3,"sources":["C:/Users/Riano/Documents/gocar/incaseweb/pages/login.js"],"names":["Head","Header","Component","Link","fetch","Layout","login","Cookies","Router","connect","Button","green","purple","Modal","customStyles","content","top","left","right","bottom","marginRight","transform","appTitle","cookies","Login","getInitialProps","store","req","console","log","apiUrl","constructor","props","send","require","state","correo","clave","error","token","get","modalIsOpen","handleChange","bind","handleSubmit","handleChangePassword","setIsOpen","value","openModal","setState","afterOpenModal","subtitle","style","color","closeModal","event","target","preventDefault","_correo","_clave","url","body","response","method","headers","JSON","stringify","data","json","status","access_token","set","action","type","payload","user_id","dispatch","push","Error","message","render","_subtitle"],"mappings":"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","sourcesContent":["\r\nimport Head from \"next/head\";\r\nimport Header from \"../components/Header\";\r\nimport { Component } from \"react\";\r\nimport  Link  from \"next/link\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Layout from \"../components/layout\";\r\nimport { login } from \"../api/login\";\r\nimport { Cookies } from \"react-cookie\";\r\nimport Router from \"next/router\";\r\nimport {connect} from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { green, purple } from '@material-ui/core/colors';\r\nimport Modal from 'react-modal';\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\n \r\nconst appTitle = `WHATABYTE`;\r\nconst cookies = new Cookies();\r\nclass Login extends Component {\r\n  static getInitialProps({ store,req }) {\r\n    console.log(\"la store:\"+store)\r\n\r\n    const apiUrl = \"http://localhost:8080/auth/login\";\r\n\r\n    return { apiUrl };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { send } = require(\"micro\");\r\n\r\n    this.state = {\r\n      correo: \"\",\r\n      clave: \"\",\r\n      error: \"\",\r\n      token: cookies.get(\"token\") || null,\r\n      modalIsOpen: false \r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n  } \r\n\r\n  setIsOpen(value){\r\n  \r\n    \r\n  }\r\n   \r\n  openModal() {\r\n    this.setState({ modalIsOpen: true });\r\n  }\r\n  \r\n   afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    subtitle.style.color = '#f00';\r\n  }\r\n \r\n   closeModal(){\r\n   this.setIsOpen(false);\r\n  }\r\n  handleChange(event) {\r\n    this.setState({ correo: event.target.value });\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    this.setState({ clave: event.target.value });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const _correo = this.state.correo;\r\n      const _clave = this.state.clave;\r\n      const url = this.props.apiUrl;\r\n      const body = { correo: _correo, clave: _clave };\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      console.log(\"Hillipoyas\" + JSON.stringify(data));\r\n      //console.log(\"status\"+data.status)\r\n      if (data.status === 200) {\r\n        const token = data.access_token;\r\n        cookies.set(\"token\", token);\r\n        const action = { type: 'ADD_USER_ID' ,payload: data.user_id }\r\n        this.props.dispatch(action);\r\n        console.log(\"Login succesfully\");\r\n        Router.push(\"/\");\r\n        //   const { access_token } = await response.json();\r\n        //   login({ access_token });\r\n      } else {\r\n        console.log(\"Login failed.\");\r\n\r\n        // https://github.com/developit/unfetch#caveats\r\n        let error = new Error(data.message);\r\n        error.data = data;\r\n        this.setState({\r\n          error: data.message,\r\n        });\r\n        //  return Promise.reject(error);\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"You have an error in your code or there are Network issues.\",\r\n        error\r\n      );\r\n\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"login\" + JSON.stringify(this.props))\r\n    return (\r\n      <div className=\"Layout\">\r\n        <Head>\r\n          <title>WHATABYTE</title>\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n          <meta charSet=\"utf-8\" />\r\n        </Head>\r\n\r\n        <Header appTitle={appTitle} />\r\n        <div className=\"Content\">\r\n          <div>\r\n          <h3>Bienvenido a {appTitle} , Porfavor digite su usuario y contrasena :  </h3>\r\n\r\n           \r\n          </div>\r\n       \r\n          <div className=\"login\">\r\n            <form>\r\n              <label htmlFor=\"correo\">Usuario</label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                id=\"correo\"\r\n                name=\"correo\"\r\n                value={this.state.correo}\r\n                onChange={this.handleChange}\r\n              />\r\n              <label htmlFor=\"clave\">Password</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"clave\"\r\n                name=\"clave\"\r\n                value={this.state.clave}\r\n                onChange={this.handleChangePassword}\r\n              />\r\n\r\n              <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit}>\r\n                Iniciar Sesion\r\n              </Button>\r\n              \r\n               <label>o</label>\r\n         \r\n               <a className=\"registertext\" onClick={this.openModal}>Registrate</a>\r\n              \r\n                <p className={`error ${this.state.error && \"show\"}`}>\r\n                {this.state.error && `Error: ${this.state.error}`}\r\n              </p>\r\n            </form>\r\n          </div>\r\n         <div>\r\n         <Modal\r\n          isOpen={this.state.modalIsOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n \r\n          <h2 ref={_subtitle => (subtitle = _subtitle)}>Hello</h2>\r\n          <button onClick={this.closeModal}>close</button>\r\n          <div>I am a modal</div>\r\n          <form>\r\n            <input />\r\n            <button>tab navigation</button>\r\n            <button>stays</button>\r\n            <button>inside</button>\r\n            <button>the modal</button>\r\n          </form>\r\n        </Modal>\r\n          </div> \r\n        </div>\r\n        <style jsx>{`\r\n          .login {\r\n            max-width: 340px;\r\n            margin: 0 auto;\r\n            padding: 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            text-align: center;\r\n          }\r\n          form {\r\n            display: flex;\r\n            flex-flow: column;\r\n          }\r\n          label {\r\n            font-weight: 600;\r\n          }\r\n          input {\r\n            padding: 8px;\r\n            margin: 0.3rem 0 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n          }\r\n          .error {\r\n            margin: 0.5rem 0 0;\r\n            display: none;\r\n            color: brown;\r\n          }\r\n          .error.show {\r\n            display: block;\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default  connect(\r\n  (state) => state,\r\n \r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}