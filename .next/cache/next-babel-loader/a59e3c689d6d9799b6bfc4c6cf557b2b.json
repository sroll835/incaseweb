{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport Layout from \"../components/layout\";\nimport { login } from \"../api/login\";\n\nclass Login extends Component {\n  static getInitialProps({\n    req\n  }) {\n    const protocol = false ? 'https' : 'http';\n    const apiUrl = 'http://localhost:8080/auth/login';\n    return {\n      apiUrl\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      correo: \"\",\n      clave: \"\",\n      error: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      correo: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      clave: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const _correo = this.state.correo;\n    const _clave = this.state.clave;\n    const url = this.props.apiUrl;\n    const body = {\n      correo: _correo,\n      clave: _clave\n    };\n\n    try {\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      console.log(\"Response : \" + response.text());\n\n      if (response.status === 201) {\n        console.log(\"Respons2e : \" + response.body);\n        console.log(\"login succesfully \"); //   const { access_token } = await response.json();\n        //   login({ access_token });\n      } else {\n        console.log(\"Login failed.\"); // https://github.com/developit/unfetch#caveats\n\n        let error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      }\n    } catch (error) {\n      console.error(\"You have an error in your code or there are Network issues.\", error);\n      throw new Error(error);\n    }\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"jsx-923656326\" + \" \" + \"login\"\n    }, __jsx(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"jsx-923656326\"\n    }, __jsx(\"label\", {\n      htmlFor: \"correo\",\n      className: \"jsx-923656326\"\n    }, \"username\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"correo\",\n      name: \"correo\",\n      value: this.state.correo,\n      onChange: this.handleChange,\n      className: \"jsx-923656326\"\n    }), __jsx(\"label\", {\n      htmlFor: \"clave\",\n      className: \"jsx-923656326\"\n    }, \"password\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"clave\",\n      name: \"clave\",\n      value: this.state.clave,\n      onChange: this.handleChangePassword,\n      className: \"jsx-923656326\"\n    }), __jsx(\"button\", {\n      type: \"submit\",\n      className: \"jsx-923656326\"\n    }, \"Login\"), __jsx(\"p\", {\n      className: \"jsx-923656326\" + \" \" + `error ${this.state.error && \"show\"}`\n    }, this.state.error && `Error: ${this.state.error}`))), __jsx(_JSXStyle, {\n      id: \"923656326\"\n    }, \".login.jsx-923656326{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-923656326{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-923656326{font-weight:600;}input.jsx-923656326{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-923656326{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-923656326{display:block;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUmlhbm9cXERvY3VtZW50c1xcZ29jYXJcXGluY2FzZXdlYlxccGFnZXNcXGxvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlHb0IsQUFHNkIsQUFPSCxBQUlHLEFBR0osQUFNTSxBQUtKLFlBVk8sRUFXdkIsRUF6QmdCLEFBV2hCLEVBU2UsWUFuQkEsQ0FvQkQsRUFOVSxVQWJBLEFBb0J4QixZQU5vQixVQWJBLFFBY3BCLENBVm1CLFNBSG5CLHNEQUlBIiwiZmlsZSI6IkM6XFxVc2Vyc1xcUmlhbm9cXERvY3VtZW50c1xcZ29jYXJcXGluY2FzZXdlYlxccGFnZXNcXGxvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XHJcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvbGF5b3V0XCI7XHJcbmltcG9ydCB7IGxvZ2luIH0gZnJvbSBcIi4uL2FwaS9sb2dpblwiO1xyXG5cclxuY2xhc3MgTG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBnZXRJbml0aWFsUHJvcHMgKHsgcmVxIH0pIHtcclxuICAgIGNvbnN0IHByb3RvY29sID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICdodHRwcycgOiAnaHR0cCdcclxuXHJcbiAgICBjb25zdCBhcGlVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvbG9naW4nXHJcblxyXG4gICAgcmV0dXJuIHsgYXBpVXJsIH1cclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHsgY29ycmVvOiBcIlwiLCBjbGF2ZTpcIlwiLCBlcnJvcjogXCJcIiB9O1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZCA9IHRoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNvcnJlbzogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gIH1cclxuICBcclxuaGFuZGxlQ2hhbmdlUGFzc3dvcmQoZXZlbnQpXHJcbntcclxuICB0aGlzLnNldFN0YXRlKHsgY2xhdmU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxufVxyXG4gIGFzeW5jIGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IF9jb3JyZW8gPSB0aGlzLnN0YXRlLmNvcnJlbztcclxuICAgIGNvbnN0IF9jbGF2ZSA9IHRoaXMuc3RhdGUuY2xhdmU7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLnByb3BzLmFwaVVybDtcclxuICAgY29uc3QgYm9keSA9IHsgY29ycmVvOiBfY29ycmVvLGNsYXZlOiBfY2xhdmUgfTtcclxuICAgIHRyeSB7XHJcbiAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB7IFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgOiBcIiArIHJlc3BvbnNlLnRleHQoKSk7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uczJlIDogXCIgKyByZXNwb25zZS5ib2R5KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2luIHN1Y2Nlc2Z1bGx5IFwiKVxyXG4gICAgIC8vICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4gfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAvLyAgIGxvZ2luKHsgYWNjZXNzX3Rva2VuIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTG9naW4gZmFpbGVkLlwiKTtcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3VuZmV0Y2gjY2F2ZWF0c1xyXG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJZb3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIGNvZGUgb3IgdGhlcmUgYXJlIE5ldHdvcmsgaXNzdWVzLlwiLFxyXG4gICAgICAgIGVycm9yXHJcbiAgICAgICk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TGF5b3V0PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9naW5cIj5cclxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+dXNlcm5hbWU8L2xhYmVsPlxyXG5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIGlkPVwiY29ycmVvXCJcclxuICAgICAgICAgICAgICBuYW1lPVwiY29ycmVvXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jb3JyZW99XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJjbGF2ZVwiPnBhc3N3b3JkPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIGlkPVwiY2xhdmVcIlxyXG4gICAgICAgICAgICAgIG5hbWU9XCJjbGF2ZVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2xhdmV9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmR9XHJcbiAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5Mb2dpbjwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgZXJyb3IgJHt0aGlzLnN0YXRlLmVycm9yICYmIFwic2hvd1wifWB9PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yICYmIGBFcnJvcjogJHt0aGlzLnN0YXRlLmVycm9yfWB9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAubG9naW4ge1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM0MHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICAgICAgcGFkZGluZzogMXJlbTtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9ybSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMC4zcmVtIDAgMXJlbTtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmVycm9yIHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMCAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICBjb2xvcjogYnJvd247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZXJyb3Iuc2hvdyB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC9MYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW47XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Riano\\\\\\\\Documents\\\\\\\\gocar\\\\\\\\incaseweb\\\\\\\\pages\\\\\\\\login.js */\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Riano/Documents/gocar/incaseweb/pages/login.js"],"names":["Component","fetch","Layout","login","Login","getInitialProps","req","protocol","apiUrl","constructor","props","state","correo","clave","error","handleChange","bind","handleSubmit","handleChangePassword","event","setState","target","value","preventDefault","_correo","_clave","url","body","response","method","headers","JSON","stringify","console","log","text","status","Error","statusText","Promise","reject","render"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,KAAT,QAAsB,cAAtB;;AAEA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC5B,SAAOK,eAAP,CAAwB;AAAEC,IAAAA;AAAF,GAAxB,EAAiC;AAC/B,UAAMC,QAAQ,GAAG,QAAwC,OAAxC,GAAkD,MAAnE;AAEA,UAAMC,MAAM,GAAG,kCAAf;AAEA,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;;AAEDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAcC,MAAAA,KAAK,EAAC,EAApB;AAAwBC,MAAAA,KAAK,EAAE;AAA/B,KAAb;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BF,IAA1B,CAA+B,IAA/B,CAA5B;AACD;;AAEDD,EAAAA,YAAY,CAACI,KAAD,EAAQ;AAClB,SAAKC,QAAL,CAAc;AAAER,MAAAA,MAAM,EAAEO,KAAK,CAACE,MAAN,CAAaC;AAAvB,KAAd;AACD;;AAEHJ,EAAAA,oBAAoB,CAACC,KAAD,EACpB;AACE,SAAKC,QAAL,CAAc;AAAEP,MAAAA,KAAK,EAAEM,KAAK,CAACE,MAAN,CAAaC;AAAtB,KAAd;AACD;;AACC,QAAML,YAAN,CAAmBE,KAAnB,EAA0B;AACxBA,IAAAA,KAAK,CAACI,cAAN;AACA,UAAMC,OAAO,GAAG,KAAKb,KAAL,CAAWC,MAA3B;AACA,UAAMa,MAAM,GAAG,KAAKd,KAAL,CAAWE,KAA1B;AACA,UAAMa,GAAG,GAAG,KAAKhB,KAAL,CAAWF,MAAvB;AACD,UAAMmB,IAAI,GAAG;AAAEf,MAAAA,MAAM,EAAEY,OAAV;AAAkBX,MAAAA,KAAK,EAAEY;AAAzB,KAAb;;AACC,QAAI;AAEF,YAAMG,QAAQ,GAAG,MAAM3B,KAAK,CAACyB,GAAD,EAAM;AAChCG,QAAAA,MAAM,EAAE,MADwB;AAEhCC,QAAAA,OAAO,EAAE;AACT,0BAAgB;AADP,SAFuB;AAIhCH,QAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AAJ0B,OAAN,CAA5B;AAMAM,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBN,QAAQ,CAACO,IAAT,EAA5B;;AACA,UAAIP,QAAQ,CAACQ,MAAT,KAAoB,GAAxB,EAA6B;AAC3BH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBN,QAAQ,CAACD,IAAtC;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAF2B,CAG9B;AACA;AACE,OALD,MAKO;AACLD,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EADK,CAEL;;AACA,YAAIpB,KAAK,GAAG,IAAIuB,KAAJ,CAAUT,QAAQ,CAACU,UAAnB,CAAZ;AACAxB,QAAAA,KAAK,CAACc,QAAN,GAAiBA,QAAjB;AACA,eAAOW,OAAO,CAACC,MAAR,CAAe1B,KAAf,CAAP;AACD;AACF,KArBD,CAqBE,OAAOA,KAAP,EAAc;AACdmB,MAAAA,OAAO,CAACnB,KAAR,CACE,6DADF,EAEEA,KAFF;AAIA,YAAM,IAAIuB,KAAJ,CAAUvB,KAAV,CAAN;AACD;AACF;;AAED2B,EAAAA,MAAM,GAAG;AACP,WACE,MAAC,MAAD,QACE;AAAA,yCAAe;AAAf,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKxB,YAArB;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA,kBADF,EAGE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,EAAE,EAAC,QAFL;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWC,MAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKG,YALjB;AAAA;AAAA,MAHF,EAUG;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA,kBAVH,EAWK;AACD,MAAA,IAAI,EAAC,MADJ;AAED,MAAA,EAAE,EAAC,OAFF;AAGD,MAAA,IAAI,EAAC,OAHJ;AAID,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,KAJjB;AAKD,MAAA,QAAQ,EAAE,KAAKK,oBALd;AAAA;AAAA,MAXL,EAmBE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA,eAnBF,EAqBE;AAAA,yCAAe,SAAQ,KAAKP,KAAL,CAAWG,KAAX,IAAoB,MAAO;AAAlD,OACG,KAAKH,KAAL,CAAWG,KAAX,IAAqB,UAAS,KAAKH,KAAL,CAAWG,KAAM,EADlD,CArBF,CADF,CADF;AAAA;AAAA,s0MADF;AA6DD;;AA5H2B;;AA+H9B,eAAeV,KAAf","sourcesContent":["import { Component } from \"react\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Layout from \"../components/layout\";\r\nimport { login } from \"../api/login\";\r\n\r\nclass Login extends Component {\r\n  static getInitialProps ({ req }) {\r\n    const protocol = process.env.NODE_ENV === 'production' ? 'https' : 'http'\r\n\r\n    const apiUrl = 'http://localhost:8080/auth/login'\r\n\r\n    return { apiUrl }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { correo: \"\", clave:\"\", error: \"\" };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ correo: event.target.value });\r\n  }\r\n  \r\nhandleChangePassword(event)\r\n{\r\n  this.setState({ clave: event.target.value });\r\n}\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    const _correo = this.state.correo;\r\n    const _clave = this.state.clave;\r\n    const url = this.props.apiUrl;\r\n   const body = { correo: _correo,clave: _clave };\r\n    try {\r\n  \r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: { \r\n        'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body),\r\n      });\r\n      console.log(\"Response : \" + response.text());\r\n      if (response.status === 201) {\r\n        console.log(\"Respons2e : \" + response.body);\r\n        console.log(\"login succesfully \")\r\n     //   const { access_token } = await response.json();\r\n     //   login({ access_token });\r\n      } else {\r\n        console.log(\"Login failed.\");\r\n        // https://github.com/developit/unfetch#caveats\r\n        let error = new Error(response.statusText);\r\n        error.response = response;\r\n        return Promise.reject(error);\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"You have an error in your code or there are Network issues.\",\r\n        error\r\n      );\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <div className=\"login\">\r\n          <form onSubmit={this.handleSubmit}>\r\n            <label htmlFor=\"correo\">username</label>\r\n\r\n            <input\r\n              type=\"text\"\r\n              id=\"correo\"\r\n              name=\"correo\"\r\n              value={this.state.correo}\r\n              onChange={this.handleChange}\r\n            />\r\n             <label htmlFor=\"clave\">password</label>\r\n               <input\r\n              type=\"text\"\r\n              id=\"clave\"\r\n              name=\"clave\"\r\n              value={this.state.clave}\r\n              onChange={this.handleChangePassword}\r\n            />\r\n\r\n            <button type=\"submit\">Login</button>\r\n\r\n            <p className={`error ${this.state.error && \"show\"}`}>\r\n              {this.state.error && `Error: ${this.state.error}`}\r\n            </p>\r\n          </form>\r\n        </div>\r\n        <style jsx>{`\r\n          .login {\r\n            max-width: 340px;\r\n            margin: 0 auto;\r\n            padding: 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n          }\r\n          form {\r\n            display: flex;\r\n            flex-flow: column;\r\n          }\r\n          label {\r\n            font-weight: 600;\r\n          }\r\n          input {\r\n            padding: 8px;\r\n            margin: 0.3rem 0 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n          }\r\n          .error {\r\n            margin: 0.5rem 0 0;\r\n            display: none;\r\n            color: brown;\r\n          }\r\n          .error.show {\r\n            display: block;\r\n          }\r\n        `}</style>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}