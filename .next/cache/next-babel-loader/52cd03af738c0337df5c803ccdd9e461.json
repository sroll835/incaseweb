{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Documents\\\\Manuel Felipe Documentos\\\\MyProjects\\\\ECO2\\\\incaseweb\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport Header from \"../components/Header\";\nimport { Component } from \"react\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\nimport \"../components/Login.scss\";\nimport { Cookies } from \"react-cookie\";\nimport Router from \"next/router\";\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport { green, purple } from '@material-ui/core/colors';\nimport Modal from 'react-modal';\nimport { createUsuario } from \"../API/helpersAPI\";\nconst imgUrl = '/static/contemplative-reptile.jpg';\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nconst appTitle = `WHATABYTE`;\nconst cookies = new Cookies();\nvar subtitle = \"dddd\";\nconst styles2 = {};\n\nclass Login extends Component {\n  static getInitialProps({\n    store,\n    req\n  }) {\n    console.log(\"la store:\" + store);\n    const apiUrl = \"http://localhost:8080/auth/login\";\n    return {\n      apiUrl\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    const {\n      send\n    } = require(\"micro\");\n\n    this.state = {\n      correo: \"\",\n      clave: \"\",\n      error: \"\",\n      token: cookies.get(\"token\") || null,\n      modalIsOpen: false,\n      nom_reg: \"\",\n      apell_reg: \"\",\n      correo_reg: \"\",\n      clave_reg: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleChangeNomReg = this.handleChangeNomReg.bind(this);\n    this.handleChangeApellReg = this.handleChangeApellReg.bind(this);\n    this.handleChangeCorreoReg = this.handleChangeCorreoReg.bind(this);\n    this.handleChangePasswordReg = this.handleChangePasswordReg.bind(this);\n    this.createUser = this.createUser.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    Modal.setAppElement('body');\n  } // MODAL FUNCTIONS\n\n\n  openModal() {\n    this.setState({\n      modalIsOpen: true\n    });\n  }\n\n  afterOpenModal() {// references are now sync'd and can be accessed.\n    // subtitle.style.color = '#f00';\n  }\n\n  closeModal() {\n    this.setState({\n      modalIsOpen: false\n    });\n  } // HANDLE EVENT TO CHANGE THE STATE VALUE \n\n\n  handleChange(event) {\n    this.setState({\n      correo: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      clave: event.target.value\n    });\n  }\n\n  handleChangeNomReg(event) {\n    this.setState({\n      nom_reg: event.target.value\n    });\n  }\n\n  handleChangeApellReg(event) {\n    this.setState({\n      apell_reg: event.target.value\n    });\n  }\n\n  handleChangeCorreoReg(event) {\n    this.setState({\n      correo_reg: event.target.value\n    });\n  }\n\n  handleChangePasswordReg(event) {\n    this.setState({\n      clave_reg: event.target.value\n    });\n  } //  WEB SERVICES FUNCTIONS \n\n\n  async handleSubmit(event) {\n    event.preventDefault();\n\n    try {\n      const _correo = this.state.correo;\n      const _clave = this.state.clave;\n      const url = this.props.apiUrl;\n      const body = {\n        correo: _correo,\n        clave: _clave\n      };\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n\n      if (data.status === 200) {\n        const token = data.access_token;\n        cookies.set(\"token\", token);\n        const action = {\n          type: 'ADD_USER_ID',\n          payload: data.user_id\n        };\n        this.props.dispatch(action);\n        Router.push(\"/\");\n      } else {\n        let error = new Error(data.message);\n        error.data = data;\n        this.setState({\n          error: data.message\n        });\n      }\n    } catch (error) {\n      console.error(\"You have an error in your code or there are Network issues.\", error);\n      throw new Error(error);\n    }\n  }\n\n  async createUser() {\n    let _toinsert = {\n      \"nombre\": this.state.nom_reg,\n      \"apellido\": this.state.apell_reg,\n      \"correo\": this.state.correo_reg,\n      \"clave\": this.state.clave_reg\n    };\n    createUsuario(_toinsert).then(response => {\n      console.log(response);\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, __jsx(\"title\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, \"WHATABYTE\"), __jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }), __jsx(\"meta\", {\n      charSet: \"utf-8\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    })), __jsx(Header, {\n      appTitle: appTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, __jsx(\"h3\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Bienvenido a \", appTitle, \" , Porfavor digite su usuario y contrasena :  \")), __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, __jsx(\"form\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"correo\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, \"Usuario\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"correo\",\n      name: \"correo\",\n      value: this.state.correo,\n      onChange: this.handleChange,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }), __jsx(\"label\", {\n      htmlFor: \"clave\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 15\n      }\n    }, \"Contrase\\xF1a\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"clave\",\n      name: \"clave\",\n      value: this.state.clave,\n      onChange: this.handleChangePassword,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }), __jsx(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, \"Iniciar Sesion\"), __jsx(\"label\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 16\n      }\n    }, \"o\"), __jsx(\"a\", {\n      onClick: this.openModal,\n      className: \"jsx-1104402198\" + \" \" + \"registertext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 16\n      }\n    }, \"Registrate\"), __jsx(\"p\", {\n      className: \"jsx-1104402198\" + \" \" + `error ${this.state.error && \"show\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, this.state.error && `Error: ${this.state.error}`))), __jsx(\"div\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, __jsx(Modal, {\n      isOpen: this.state.modalIsOpen,\n      onAfterOpen: this.afterOpenModal,\n      onRequestClose: this.closeModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"headermodal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, \"\\xA1 Reg\\xEDstrate y comienza a aprender \\xA0!\", __jsx(\"button\", {\n      \"aria-label\": \"Cerrar\",\n      type: \"button\",\n      onClick: this.closeModal,\n      className: \"jsx-1104402198\" + \" \" + \"modalclose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      \"aria-hidden\": \"true\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 106\n      }\n    }, \"\\xD7\"))), __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"contentmodal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 16\n      }\n    }, __jsx(\"form\", {\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"nombre\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, \"Nombre\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"nombre_reg\",\n      name: \"nombre_reg\",\n      value: this.state.nom_reg,\n      onChange: this.handleChangeNomReg,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }\n    }), __jsx(\"label\", {\n      htmlFor: \"apellido\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, \"Apellido\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"apellido_reg\",\n      name: \"apellido_reg\",\n      value: this.state.apell_reg,\n      onChange: this.handleChangeApellReg,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }), __jsx(\"label\", {\n      htmlFor: \"correo\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 18\n      }\n    }, \"Correo\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"correo_reg\",\n      name: \"correo_reg\",\n      value: this.state.correo_reg,\n      onChange: this.handleChangeCorreoReg,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }), __jsx(\"label\", {\n      htmlFor: \"clave\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 18\n      }\n    }, \"Contrase\\xF1a\"), __jsx(\"input\", {\n      type: \"text\",\n      id: \"clave_reg\",\n      name: \"clave_reg\",\n      value: this.state.clave_reg,\n      onChange: this.handleChangePasswordReg,\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }), __jsx(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      className: \"buttonregister\",\n      onClick: this.createUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 18\n      }\n    }, \"Registrarse\")), __jsx(\"div\", {\n      className: \"jsx-1104402198\" + \" \" + \"secondarytext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, \"Al registrarse, acepta nuestras\", __jsx(\"a\", {\n      href: \"/terms/\",\n      target: \"_blank\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 16\n      }\n    }, \"condiciones generales de uso\"), \"y \", __jsx(\"a\", {\n      href: \"/terms/privacy/\",\n      target: \"_blank\",\n      className: \"jsx-1104402198\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 18\n      }\n    }, \"nuestra pol\\xEDtica de privacidad\"), \".\"))))), __jsx(_JSXStyle, {\n      id: \"1104402198\",\n      __self: this\n    }, \".login.jsx-1104402198{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;text-align:center;}form.jsx-1104402198{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-1104402198{font-weight:600;}input.jsx-1104402198{padding:8px;margin:0.2rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-1104402198{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-1104402198{display:block;}.headermodal.jsx-1104402198{border-bottom:solid 1px #dedfe0;border-top-left-radius:6px;border-top-right-radius:6px;color:#29303b;display:block;font-weight:700;font-size:15px;padding:24px 64px 24px 24px;}.buttonregister.jsx-1104402198{font-size:16px;font-weight:700;height:48px;margin-bottom:16px;width:100%;}.contentmodal.jsx-1104402198{padding:24px 24px 16px;}.modalclose.jsx-1104402198{color:#686f7a;font-size:36px;font-weight:400;opacity:1;position:relative;z-index:3;padding:0 8px;background-color:white;border:none;overflow:hidden;margin-bottom:0;margin-top:-8px;position:absolute;right:24px;top:24px;}.secondarytext.jsx-1104402198{margin:0 0 16px;margin-top:10px;font-size:10px;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUmlhbm9cXERvY3VtZW50c1xcTWFudWVsIEZlbGlwZSBEb2N1bWVudG9zXFxNeVByb2plY3RzXFxFQ08yXFxpbmNhc2V3ZWJcXHBhZ2VzXFxsb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3Um9CLEFBRzZCLEFBUUgsQUFJRyxBQUdKLEFBTU0sQUFLSixBQUdrQixBQVVqQixBQU9RLEFBR1QsQUFpQkUsWUFsREssRUFXdkIsQUF1QmlCLENBVkMsQ0F2Q0YsQUFZaEIsQUFzRGtCLEVBN0NILEtBeUJmLE1BSWtCLENBakRILENBcUJELEFBa0JBLENBWGUsQUFzQ1osQ0FuRE8sVUFkQSxBQXFCeEIsQUFrQnFCLEVBVVQsRUFpQlEsUUFuREEsQUFtQ0EsSUF0QlUsR0FZakIsR0F2Q08sQUFrRXBCLFFBbkRBLEFBeUJBLEFBVVksQ0E3Q08sU0FKQyxBQWtESixJQXZCQSxVQXdCUyxJQWxEekIsQUEyQmdCLGNBQ0UsS0F1QkosV0F0QkcsQ0F1QkMsS0FoRGxCLFNBMEI4QixFQXVCWixnQkFDQSxVQXZCbEIsTUF3Qm9CLGtCQUNQLFdBQ0YsU0FDWCIsImZpbGUiOiJDOlxcVXNlcnNcXFJpYW5vXFxEb2N1bWVudHNcXE1hbnVlbCBGZWxpcGUgRG9jdW1lbnRvc1xcTXlQcm9qZWN0c1xcRUNPMlxcaW5jYXNld2ViXFxwYWdlc1xcbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xyXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL0hlYWRlclwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0ICBMaW5rICBmcm9tIFwibmV4dC9saW5rXCI7XHJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XHJcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvTG9naW4uc2Nzc1wiO1xyXG5pbXBvcnQgeyBDb29raWVzIH0gZnJvbSBcInJlYWN0LWNvb2tpZVwiO1xyXG5pbXBvcnQgUm91dGVyIGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b25cIjtcclxuaW1wb3J0IHsgZ3JlZW4sIHB1cnBsZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL2NvbG9ycyc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdyZWFjdC1tb2RhbCc7XHJcbmltcG9ydCB7IGNyZWF0ZVVzdWFyaW8gfSBmcm9tIFwiLi4vQVBJL2hlbHBlcnNBUElcIjtcclxuY29uc3QgaW1nVXJsID0gJy9zdGF0aWMvY29udGVtcGxhdGl2ZS1yZXB0aWxlLmpwZydcclxuY29uc3QgY3VzdG9tU3R5bGVzID0ge1xyXG5cclxuICBjb250ZW50IDoge1xyXG4gICAgdG9wICAgICAgICAgICAgICAgICAgIDogJzUwJScsXHJcbiAgICBsZWZ0ICAgICAgICAgICAgICAgICAgOiAnNTAlJyxcclxuICAgIHJpZ2h0ICAgICAgICAgICAgICAgICA6ICdhdXRvJyxcclxuICAgIGJvdHRvbSAgICAgICAgICAgICAgICA6ICdhdXRvJyxcclxuICAgIG1hcmdpblJpZ2h0ICAgICAgICAgICA6ICctNTAlJyxcclxuICAgIHRyYW5zZm9ybSAgICAgICAgICAgICA6ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxyXG5cclxuICB9XHJcbn07XHJcbiBcclxuY29uc3QgYXBwVGl0bGUgPSBgV0hBVEFCWVRFYDtcclxuY29uc3QgY29va2llcyA9IG5ldyBDb29raWVzKCk7XHJcbnZhciBzdWJ0aXRsZSA9IFwiZGRkZFwiIDtcclxuXHJcbiAgICBjb25zdCBzdHlsZXMyID0ge1xyXG4gICAgIFxyXG4gICAgICB9XHJcblxyXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gIHN0YXRpYyBnZXRJbml0aWFsUHJvcHMoeyBzdG9yZSxyZXEgfSkge1xyXG4gICAgY29uc29sZS5sb2coXCJsYSBzdG9yZTpcIitzdG9yZSlcclxuXHJcbiAgICBjb25zdCBhcGlVcmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hdXRoL2xvZ2luXCI7XHJcbiAgICBcclxuICAgIHJldHVybiB7IGFwaVVybCB9O1xyXG4gIH1cclxuIFxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICBjb25zdCB7IHNlbmQgfSA9IHJlcXVpcmUoXCJtaWNyb1wiKTtcclxuIFxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY29ycmVvOiBcIlwiLFxyXG4gICAgICBjbGF2ZTogXCJcIixcclxuICAgICAgZXJyb3I6IFwiXCIsXHJcbiAgICAgIHRva2VuOiBjb29raWVzLmdldChcInRva2VuXCIpIHx8IG51bGwsXHJcbiAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZSxcclxuICAgICAgbm9tX3JlZyA6IFwiXCIsXHJcbiAgICAgIGFwZWxsX3JlZzpcIlwiLFxyXG4gICAgICBjb3JyZW9fcmVnOlwiXCIsXHJcbiAgICAgIGNsYXZlX3JlZzpcIlwiXHJcblxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZCA9IHRoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlTm9tUmVnICA9IHRoaXMuaGFuZGxlQ2hhbmdlTm9tUmVnLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZUFwZWxsUmVnID0gdGhpcy5oYW5kbGVDaGFuZ2VBcGVsbFJlZy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VDb3JyZW9SZWcgID0gdGhpcy5oYW5kbGVDaGFuZ2VDb3JyZW9SZWcuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlUGFzc3dvcmRSZWcgPSB0aGlzLmhhbmRsZUNoYW5nZVBhc3N3b3JkUmVnLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmNyZWF0ZVVzZXIgPSB0aGlzLmNyZWF0ZVVzZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub3Blbk1vZGFsID0gdGhpcy5vcGVuTW9kYWwuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgTW9kYWwuc2V0QXBwRWxlbWVudCgnYm9keScpO1xyXG4gIH0gXHJcblxyXG4gIC8vIE1PREFMIEZVTkNUSU9OU1xyXG5cclxuICBvcGVuTW9kYWwoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxJc09wZW46IHRydWUgfSk7XHJcbiAgfVxyXG4gIFxyXG4gICBhZnRlck9wZW5Nb2RhbCgpIHtcclxuICAgIC8vIHJlZmVyZW5jZXMgYXJlIG5vdyBzeW5jJ2QgYW5kIGNhbiBiZSBhY2Nlc3NlZC5cclxuICAgLy8gc3VidGl0bGUuc3R5bGUuY29sb3IgPSAnI2YwMCc7XHJcbiAgfVxyXG4gXHJcbiAgIGNsb3NlTW9kYWwoKXtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT3BlbjogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBIQU5ETEUgRVZFTlQgVE8gQ0hBTkdFIFRIRSBTVEFURSBWQUxVRSBcclxuXHJcbiAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgY29ycmVvOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDaGFuZ2VQYXNzd29yZChldmVudCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNsYXZlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcbiAgfVxyXG4gIGhhbmRsZUNoYW5nZU5vbVJlZyhldmVudCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5vbV9yZWc6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcbiAgIFxyXG4gIGhhbmRsZUNoYW5nZUFwZWxsUmVnKGV2ZW50KXtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBhcGVsbF9yZWc6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcbiAgaGFuZGxlQ2hhbmdlQ29ycmVvUmVnKGV2ZW50KXtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjb3JyZW9fcmVnOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcbiAgfVxyXG4gIGhhbmRsZUNoYW5nZVBhc3N3b3JkUmVnKGV2ZW50KXtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBjbGF2ZV9yZWc6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gIFdFQiBTRVJWSUNFUyBGVU5DVElPTlMgXHJcblxyXG4gIGFzeW5jIGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBfY29ycmVvID0gdGhpcy5zdGF0ZS5jb3JyZW87XHJcbiAgICAgIGNvbnN0IF9jbGF2ZSA9IHRoaXMuc3RhdGUuY2xhdmU7XHJcbiAgICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMuYXBpVXJsO1xyXG4gICAgICBjb25zdCBib2R5ID0geyBjb3JyZW86IF9jb3JyZW8sIGNsYXZlOiBfY2xhdmUgfTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICBjb25zdCB0b2tlbiA9IGRhdGEuYWNjZXNzX3Rva2VuO1xyXG4gICAgICAgIGNvb2tpZXMuc2V0KFwidG9rZW5cIiwgdG9rZW4pO1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHsgdHlwZTogJ0FERF9VU0VSX0lEJyAscGF5bG9hZDogZGF0YS51c2VyX2lkIH1cclxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjdGlvbik7XHJcbiAgICAgICAgUm91dGVyLnB1c2goXCIvXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIGVycm9yLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZXJyb3I6IGRhdGEubWVzc2FnZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBcIllvdSBoYXZlIGFuIGVycm9yIGluIHlvdXIgY29kZSBvciB0aGVyZSBhcmUgTmV0d29yayBpc3N1ZXMuXCIsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG4gXHJcbmFzeW5jIGNyZWF0ZVVzZXIoKSB7XHJcbiAgXHJcbiAgICAgbGV0IF90b2luc2VydCA9ICB7XCJub21icmVcIjogdGhpcy5zdGF0ZS5ub21fcmVnLCBcImFwZWxsaWRvXCI6dGhpcy5zdGF0ZS5hcGVsbF9yZWcsXCJjb3JyZW9cIjogdGhpcy5zdGF0ZS5jb3JyZW9fcmVnLCBcImNsYXZlXCI6IHRoaXMuc3RhdGUuY2xhdmVfcmVnfTsgICAgXHJcbiAgICAgY3JlYXRlVXN1YXJpbyhfdG9pbnNlcnQpLnRoZW4ocmVzcG9uc2UgPT4gXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbn1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIkxvZ2luXCI+XHJcbiAgICAgICAgPEhlYWQ+XHJcbiAgICAgICAgICA8dGl0bGU+V0hBVEFCWVRFPC90aXRsZT5cclxuICAgICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiIC8+XHJcbiAgICAgICAgICA8bWV0YSBjaGFyU2V0PVwidXRmLThcIiAvPlxyXG4gICAgICAgIDwvSGVhZD5cclxuXHJcbiAgICAgICAgPEhlYWRlciBhcHBUaXRsZT17YXBwVGl0bGV9IC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJDb250ZW50XCI+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgzPkJpZW52ZW5pZG8gYSB7YXBwVGl0bGV9ICwgUG9yZmF2b3IgZGlnaXRlIHN1IHVzdWFyaW8geSBjb250cmFzZW5hIDogIDwvaDM+ICAgICAgICAgICBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luXCI+XHJcbiAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+VXN1YXJpbzwvbGFiZWw+XHJcblxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9XCJjb3JyZW9cIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvcnJlb1wiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jb3JyZW99XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNsYXZlXCI+Q29udHJhc2XDsWE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9XCJjbGF2ZVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiY2xhdmVcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2xhdmV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZH1cclxuICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJjb250YWluZWRcIiBjb2xvcj1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgICAgICBJbmljaWFyIFNlc2lvblxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICA8bGFiZWw+bzwvbGFiZWw+XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJyZWdpc3RlcnRleHRcIiBvbkNsaWNrPXt0aGlzLm9wZW5Nb2RhbH0+UmVnaXN0cmF0ZTwvYT5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YGVycm9yICR7dGhpcy5zdGF0ZS5lcnJvciAmJiBcInNob3dcIn1gfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yICYmIGBFcnJvcjogJHt0aGlzLnN0YXRlLmVycm9yfWB9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbElzT3Blbn1cclxuICAgICAgICAgICAgICBvbkFmdGVyT3Blbj17dGhpcy5hZnRlck9wZW5Nb2RhbH1cclxuICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXtjdXN0b21TdHlsZXN9XHJcbiAgICAgICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiXHJcbiAgICAgICAgICAgID5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJtb2RhbFwiPlxyXG4gICAgICAgICAgICAgIMKhIFJlZ8Otc3RyYXRlIHkgY29taWVuemEgYSBhcHJlbmRlciAmbmJzcDshXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPVwiQ2VycmFyXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cIm1vZGFsY2xvc2VcIiBvbkNsaWNrPXt0aGlzLmNsb3NlTW9kYWx9PjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPsOXPC9zcGFuPjwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50bW9kYWxcIj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGZvcm0+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm5vbWJyZVwiPk5vbWJyZTwvbGFiZWw+XHJcblxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJub21icmVfcmVnXCJcclxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm5vbWJyZV9yZWdcIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ub21fcmVnfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VOb21SZWd9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhcGVsbGlkb1wiPkFwZWxsaWRvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwiYXBlbGxpZG9fcmVnXCJcclxuICAgICAgICAgICAgICAgICAgbmFtZT1cImFwZWxsaWRvX3JlZ1wiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFwZWxsX3JlZ31cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlQXBlbGxSZWd9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29ycmVvXCI+Q29ycmVvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwiY29ycmVvX3JlZ1wiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJjb3JyZW9fcmVnXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY29ycmVvX3JlZ31cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlQ29ycmVvUmVnfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNsYXZlXCI+Q29udHJhc2XDsWE8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJjbGF2ZV9yZWdcIlxyXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiY2xhdmVfcmVnXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2xhdmVfcmVnfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VQYXNzd29yZFJlZ31cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJidXR0b25yZWdpc3RlclwiIG9uQ2xpY2s9e3RoaXMuY3JlYXRlVXNlcn0+XHJcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXJzZVxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWNvbmRhcnl0ZXh0XCI+XHJcbiAgICAgICAgICAgICAgQWwgcmVnaXN0cmFyc2UsIGFjZXB0YSBudWVzdHJhcyBcclxuICAgICAgICAgICAgICAgPGEgaHJlZj1cIi90ZXJtcy9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5jb25kaWNpb25lcyBnZW5lcmFsZXMgZGUgdXNvPC9hPlxyXG4gICAgICAgICAgICAgICB5IDxhIGhyZWY9XCIvdGVybXMvcHJpdmFjeS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5udWVzdHJhIHBvbMOtdGljYSBkZSBwcml2YWNpZGFkPC9hPi5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIC5sb2dpbiB7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMzQwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhYmVsIHtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0IHtcclxuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDAuMnJlbSAwIDFyZW07XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5lcnJvciB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMC41cmVtIDAgMDtcclxuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgY29sb3I6IGJyb3duO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmVycm9yLnNob3cge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5oZWFkZXJtb2RhbHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNkZWRmZTA7XHJcbiAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgY29sb3I6ICMyOTMwM2I7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDI0cHggNjRweCAyNHB4IDI0cHg7IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmJ1dHRvbnJlZ2lzdGVye1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDhweDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuY29udGVudG1vZGFse1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyNHB4IDI0cHggMTZweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5tb2RhbGNsb3Nle1xyXG4gICAgICAgICAgICBjb2xvcjogIzY4NmY3YTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAzNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDM7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgOHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAtOHB4O1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB0b3A6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuc2Vjb25kYXJ5dGV4dHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIDAgMTZweDtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxyXG4gIChzdGF0ZSkgPT4gc3RhdGUsXHJcblxyXG4pKExvZ2luKTtcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Riano\\\\\\\\Documents\\\\\\\\Manuel Felipe Documentos\\\\\\\\MyProjects\\\\\\\\ECO2\\\\\\\\incaseweb\\\\\\\\pages\\\\\\\\login.js */\"));\n  }\n\n}\n\nexport default connect(state => state)(Login);","map":{"version":3,"sources":["C:/Users/Riano/Documents/Manuel Felipe Documentos/MyProjects/ECO2/incaseweb/pages/login.js"],"names":["Head","Header","Component","Link","fetch","Cookies","Router","connect","Button","green","purple","Modal","createUsuario","imgUrl","customStyles","content","top","left","right","bottom","marginRight","transform","appTitle","cookies","subtitle","styles2","Login","getInitialProps","store","req","console","log","apiUrl","constructor","props","send","require","state","correo","clave","error","token","get","modalIsOpen","nom_reg","apell_reg","correo_reg","clave_reg","handleChange","bind","handleSubmit","handleChangePassword","handleChangeNomReg","handleChangeApellReg","handleChangeCorreoReg","handleChangePasswordReg","createUser","openModal","closeModal","setAppElement","setState","afterOpenModal","event","target","value","preventDefault","_correo","_clave","url","body","response","method","headers","JSON","stringify","data","json","status","access_token","set","action","type","payload","user_id","dispatch","push","Error","message","_toinsert","then","render"],"mappings":"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","sourcesContent":["\r\nimport Head from \"next/head\";\r\nimport Header from \"../components/Header\";\r\nimport { Component } from \"react\";\r\nimport  Link  from \"next/link\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport \"../components/Login.scss\";\r\nimport { Cookies } from \"react-cookie\";\r\nimport Router from \"next/router\";\r\nimport {connect} from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { green, purple } from '@material-ui/core/colors';\r\nimport Modal from 'react-modal';\r\nimport { createUsuario } from \"../API/helpersAPI\";\r\nconst imgUrl = '/static/contemplative-reptile.jpg'\r\nconst customStyles = {\r\n\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)',\r\n\r\n  }\r\n};\r\n \r\nconst appTitle = `WHATABYTE`;\r\nconst cookies = new Cookies();\r\nvar subtitle = \"dddd\" ;\r\n\r\n    const styles2 = {\r\n     \r\n      }\r\n\r\nclass Login extends Component {\r\n\r\n  static getInitialProps({ store,req }) {\r\n    console.log(\"la store:\"+store)\r\n\r\n    const apiUrl = \"http://localhost:8080/auth/login\";\r\n    \r\n    return { apiUrl };\r\n  }\r\n \r\n  constructor(props) {\r\n    super(props);\r\n    const { send } = require(\"micro\");\r\n \r\n    this.state = {\r\n      correo: \"\",\r\n      clave: \"\",\r\n      error: \"\",\r\n      token: cookies.get(\"token\") || null,\r\n      modalIsOpen: false,\r\n      nom_reg : \"\",\r\n      apell_reg:\"\",\r\n      correo_reg:\"\",\r\n      clave_reg:\"\"\r\n\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleChangeNomReg  = this.handleChangeNomReg.bind(this);\r\n    this.handleChangeApellReg = this.handleChangeApellReg.bind(this);\r\n    this.handleChangeCorreoReg  = this.handleChangeCorreoReg.bind(this);\r\n    this.handleChangePasswordReg = this.handleChangePasswordReg.bind(this);\r\n    this.createUser = this.createUser.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    Modal.setAppElement('body');\r\n  } \r\n\r\n  // MODAL FUNCTIONS\r\n\r\n  openModal() {\r\n    this.setState({ modalIsOpen: true });\r\n  }\r\n  \r\n   afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n   // subtitle.style.color = '#f00';\r\n  }\r\n \r\n   closeModal(){\r\n    this.setState({ modalIsOpen: false });\r\n  }\r\n\r\n  // HANDLE EVENT TO CHANGE THE STATE VALUE \r\n\r\n  handleChange(event) {\r\n    this.setState({ correo: event.target.value });\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    this.setState({ clave: event.target.value });\r\n  }\r\n  handleChangeNomReg(event) {\r\n    this.setState({ nom_reg: event.target.value });\r\n  }\r\n   \r\n  handleChangeApellReg(event){\r\n    this.setState({ apell_reg: event.target.value });\r\n  }\r\n  handleChangeCorreoReg(event){\r\n    this.setState({ correo_reg: event.target.value });\r\n  }\r\n  handleChangePasswordReg(event){\r\n    this.setState({ clave_reg: event.target.value });\r\n  }\r\n  \r\n  //  WEB SERVICES FUNCTIONS \r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const _correo = this.state.correo;\r\n      const _clave = this.state.clave;\r\n      const url = this.props.apiUrl;\r\n      const body = { correo: _correo, clave: _clave };\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.status === 200) {\r\n        const token = data.access_token;\r\n        cookies.set(\"token\", token);\r\n        const action = { type: 'ADD_USER_ID' ,payload: data.user_id }\r\n        this.props.dispatch(action);\r\n        Router.push(\"/\");\r\n      } else {\r\n        let error = new Error(data.message);\r\n        error.data = data;\r\n        this.setState({\r\n          error: data.message,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"You have an error in your code or there are Network issues.\",\r\n        error\r\n      );\r\n\r\n      throw new Error(error);\r\n    }\r\n  }\r\n \r\nasync createUser() {\r\n  \r\n     let _toinsert =  {\"nombre\": this.state.nom_reg, \"apellido\":this.state.apell_reg,\"correo\": this.state.correo_reg, \"clave\": this.state.clave_reg};    \r\n     createUsuario(_toinsert).then(response => \r\n      {\r\n        console.log(response);\r\n      }\r\n    );\r\n}\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"Login\">\r\n        <Head>\r\n          <title>WHATABYTE</title>\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n          <meta charSet=\"utf-8\" />\r\n        </Head>\r\n\r\n        <Header appTitle={appTitle} />\r\n        <div className=\"Content\">\r\n          <div>\r\n          <h3>Bienvenido a {appTitle} , Porfavor digite su usuario y contrasena :  </h3>           \r\n          </div>\r\n       \r\n          <div className=\"login\">\r\n            <form>\r\n              <label htmlFor=\"correo\">Usuario</label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                id=\"correo\"\r\n                name=\"correo\"\r\n                value={this.state.correo}\r\n                onChange={this.handleChange}\r\n              />\r\n              <label htmlFor=\"clave\">Contraseña</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"clave\"\r\n                name=\"clave\"\r\n                value={this.state.clave}\r\n                onChange={this.handleChangePassword}\r\n              />\r\n\r\n              <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit}>\r\n                Iniciar Sesion\r\n              </Button>\r\n              \r\n               <label>o</label>\r\n         \r\n               <a className=\"registertext\" onClick={this.openModal}>Registrate</a>\r\n              \r\n                <p className={`error ${this.state.error && \"show\"}`}>\r\n                {this.state.error && `Error: ${this.state.error}`}\r\n              </p>\r\n            </form>\r\n          </div>\r\n          <div>\r\n            <Modal\r\n              isOpen={this.state.modalIsOpen}\r\n              onAfterOpen={this.afterOpenModal}\r\n              onRequestClose={this.closeModal}\r\n              style={customStyles}\r\n              contentLabel=\"Example Modal\"\r\n            >\r\n\r\n              <div className=\"headermodal\">\r\n              ¡ Regístrate y comienza a aprender &nbsp;!\r\n              <button aria-label=\"Cerrar\" type=\"button\" className=\"modalclose\" onClick={this.closeModal}><span aria-hidden=\"true\">×</span></button>\r\n\r\n              </div>\r\n               <div className=\"contentmodal\">\r\n            \r\n              <form>\r\n                <label htmlFor=\"nombre\">Nombre</label>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"nombre_reg\"\r\n                  name=\"nombre_reg\"\r\n                  value={this.state.nom_reg}\r\n                  onChange={this.handleChangeNomReg}\r\n                />\r\n                <label htmlFor=\"apellido\">Apellido</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"apellido_reg\"\r\n                  name=\"apellido_reg\"\r\n                  value={this.state.apell_reg}\r\n                  onChange={this.handleChangeApellReg}\r\n                />\r\n                 <label htmlFor=\"correo\">Correo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"correo_reg\"\r\n                  name=\"correo_reg\"\r\n                  value={this.state.correo_reg}\r\n                  onChange={this.handleChangeCorreoReg}\r\n                />\r\n                 <label htmlFor=\"clave\">Contraseña</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"clave_reg\"\r\n                  name=\"clave_reg\"\r\n                  value={this.state.clave_reg}\r\n                  onChange={this.handleChangePasswordReg}\r\n                />\r\n                 <Button variant=\"contained\" color=\"secondary\" className=\"buttonregister\" onClick={this.createUser}>\r\n                Registrarse\r\n              </Button>\r\n              \r\n\r\n              </form>\r\n              <div className=\"secondarytext\">\r\n              Al registrarse, acepta nuestras \r\n               <a href=\"/terms/\" target=\"_blank\">condiciones generales de uso</a>\r\n               y <a href=\"/terms/privacy/\" target=\"_blank\">nuestra política de privacidad</a>.\r\n              </div>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n        <style jsx>{`\r\n          .login {\r\n            max-width: 340px;\r\n            margin: 0 auto;\r\n            padding: 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            text-align: center;\r\n          }\r\n          form {\r\n            display: flex;\r\n            flex-flow: column;\r\n          }\r\n          label {\r\n            font-weight: 600;\r\n          }\r\n          input {\r\n            padding: 8px;\r\n            margin: 0.2rem 0 1rem;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n          }\r\n          .error {\r\n            margin: 0.5rem 0 0;\r\n            display: none;\r\n            color: brown;\r\n          }\r\n          .error.show {\r\n            display: block;\r\n          }\r\n          .headermodal{\r\n            border-bottom: solid 1px #dedfe0;\r\n            border-top-left-radius: 6px;\r\n            border-top-right-radius: 6px;\r\n            color: #29303b;\r\n            display: block;\r\n            font-weight: 700;\r\n            font-size: 15px;\r\n            padding: 24px 64px 24px 24px; \r\n          }\r\n          .buttonregister{\r\n            font-size: 16px;\r\n            font-weight: 700;\r\n            height: 48px;\r\n            margin-bottom: 16px;\r\n            width: 100%;\r\n          }\r\n          .contentmodal{\r\n            padding: 24px 24px 16px;\r\n          }\r\n          .modalclose{\r\n            color: #686f7a;\r\n            font-size: 36px;\r\n            font-weight: 400;\r\n            opacity: 1;\r\n            position: relative;\r\n            z-index: 3;\r\n            padding: 0 8px;\r\n            background-color: white;\r\n            border: none;\r\n            overflow: hidden;\r\n            margin-bottom: 0;\r\n            margin-top: -8px;\r\n            position: absolute;\r\n            right: 24px;\r\n            top: 24px;\r\n          }\r\n          .secondarytext{\r\n            margin: 0 0 16px;\r\n            margin-top: 10px;\r\n            font-size: 10px;\r\n            text-align: center;\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => state,\r\n\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}